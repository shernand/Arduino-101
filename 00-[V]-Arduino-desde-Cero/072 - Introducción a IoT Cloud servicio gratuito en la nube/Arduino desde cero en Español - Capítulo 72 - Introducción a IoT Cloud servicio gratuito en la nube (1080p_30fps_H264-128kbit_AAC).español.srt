1
00:00:01,639 --> 00:00:06,708
bienvenidos a un nuevo capítulo de

2
00:00:03,859 --> 00:00:08,599
arduino desde cero en español en esta

3
00:00:06,708 --> 00:00:10,849
oportunidad veremos cómo usar el

4
00:00:08,599 --> 00:00:13,339
servicio en la nube arduino a youth y

5
00:00:10,849 --> 00:00:15,379
cloud para conectar nuestra placa y

6
00:00:13,339 --> 00:00:18,829
obtener datos de temperatura y humedad

7
00:00:15,380 --> 00:00:22,070
de un dht 22 y controlar de forma remota

8
00:00:18,829 --> 00:00:24,158
el led rgb incorporado en la misma paso

9
00:00:22,070 --> 00:00:26,719
a paso el proceso de ingreso

10
00:00:24,158 --> 00:00:29,538
configuración del dispositivo red

11
00:00:26,719 --> 00:00:31,668
programación y creación de un dash word

12
00:00:29,539 --> 00:00:33,260
o panel de control accesible desde

13
00:00:31,669 --> 00:00:35,420
cualquier parte del mundo con

14
00:00:33,259 --> 00:00:37,189
conectividad a internet

15
00:00:35,420 --> 00:00:39,649
la nube de arduino es un completo

16
00:00:37,189 --> 00:00:42,108
servicio con varios planes a disposición

17
00:00:39,649 --> 00:00:44,989
en esta imagen se encuentran estados los

18
00:00:42,109 --> 00:00:47,329
importes asociados yo estaré usando una

19
00:00:44,988 --> 00:00:49,909
cuenta gratuita y es la recomendada para

20
00:00:47,329 --> 00:00:52,280
comenzar a familiarizarnos con la

21
00:00:49,909 --> 00:00:54,558
plataforma claro que tendremos una serie

22
00:00:52,280 --> 00:00:57,320
de limitaciones una de las más notorias

23
00:00:54,558 --> 00:01:00,530
es la cantidad de things cuya traducción

24
00:00:57,320 --> 00:01:02,988
directa al español es cosa en este plan

25
00:01:00,530 --> 00:01:06,170
gratuito podemos crear hasta dos cosas

26
00:01:02,988 --> 00:01:08,299
entonces qué es una cosa o zynga se

27
00:01:06,170 --> 00:01:10,390
trata de un objeto virtual en la nube

28
00:01:08,299 --> 00:01:13,009
utilizado para almacenar de forma segura

29
00:01:10,390 --> 00:01:15,769
datos sobre dispositivos y redes

30
00:01:13,010 --> 00:01:18,500
conectadas para simplificar una cosa

31
00:01:15,769 --> 00:01:21,199
será el conjunto de placas sensores o

32
00:01:18,500 --> 00:01:24,049
dispositivos conectados a ella y redes

33
00:01:21,200 --> 00:01:26,870
estaremos consumiendo una sola porque el

34
00:01:24,049 --> 00:01:29,390
proyecto involucra una sola placa podría

35
00:01:26,870 --> 00:01:32,329
ser sin problemas utilizar otra placa y

36
00:01:29,390 --> 00:01:35,210
así tener el máximo de 25 cosas que

37
00:01:32,329 --> 00:01:37,069
admite este plan no te preocupes que

38
00:01:35,209 --> 00:01:39,199
ahora en el paso a paso se entenderá

39
00:01:37,069 --> 00:01:41,419
mejor el contexto para este capítulo

40
00:01:39,200 --> 00:01:43,760
comencemos con el circuito de conexión

41
00:01:41,420 --> 00:01:45,680
ya que luego le dedicaremos la mayor

42
00:01:43,760 --> 00:01:48,140
parte del tiempo a trabajar con el

43
00:01:45,680 --> 00:01:52,040
servicio en línea y estaré usando un

44
00:01:48,140 --> 00:01:54,799
modelo nano erp 2040 conecta la misma la

45
00:01:52,040 --> 00:01:56,930
analizamos en el capítulo 69 de manera

46
00:01:54,799 --> 00:01:58,789
que si no lo viste te lo recomiendo y

47
00:01:56,930 --> 00:02:01,070
dejaré un enlace en la zona de

48
00:01:58,790 --> 00:02:04,130
descripción esta placa incluye

49
00:02:01,069 --> 00:02:06,289
conectividad wifi por eso es ideal para

50
00:02:04,129 --> 00:02:09,469
este proyecto aunque veremos en breve

51
00:02:06,290 --> 00:02:13,599
que también podrías usar placas esp 82

52
00:02:09,469 --> 00:02:16,128
66 y s&amp;p 32 con arduino yuty cloud

53
00:02:13,599 --> 00:02:18,169
conectaremos un viejo conocido para

54
00:02:16,128 --> 00:02:20,840
obtener temperatura y humedad ambiente

55
00:02:18,169 --> 00:02:23,479
el dh de 22 ha analizado en el capítulo

56
00:02:20,840 --> 00:02:26,509
7 recordad que esta placa trabaja con

57
00:02:23,479 --> 00:02:30,438
3,3 volts pero el de ht 22 puede

58
00:02:26,509 --> 00:02:32,419
funcionar sin problemas con 5 o 33 así

59
00:02:30,438 --> 00:02:35,150
que conectaremos el primer pin de la

60
00:02:32,419 --> 00:02:37,848
izquierda a la salida de 3,3 de la nano

61
00:02:35,150 --> 00:02:40,280
el pin que le sigue es el de señal o

62
00:02:37,848 --> 00:02:43,488
data que requiere de una resistencia de

63
00:02:40,280 --> 00:02:46,158
pull up de 10 k por eso aquí un extremo

64
00:02:43,489 --> 00:02:49,549
de la misma al pin de señal y el otro

65
00:02:46,158 --> 00:02:52,669
extremo a 33 del pin de señal con un

66
00:02:49,549 --> 00:02:56,150
cable directo al pin digital número 4 de

67
00:02:52,669 --> 00:02:58,759
la nano finalmente el último pin es gene

68
00:02:56,150 --> 00:03:01,069
de que lo conectamos a uno de los pines

69
00:02:58,759 --> 00:03:03,798
degenere de la nano recuerda que este

70
00:03:01,068 --> 00:03:07,188
otro pin no se conecta aquí estoy usando

71
00:03:03,799 --> 00:03:09,290
el de ht 22 solo y no como parte de un

72
00:03:07,188 --> 00:03:11,688
módulo por eso la necesidad de la

73
00:03:09,289 --> 00:03:14,239
resistencia de pull up y ese es todo el

74
00:03:11,688 --> 00:03:16,280
circuito un solo sensor para obtener

75
00:03:14,239 --> 00:03:18,729
temperatura y humedad luego por

76
00:03:16,280 --> 00:03:21,500
programación activaremos el led rgb

77
00:03:18,729 --> 00:03:23,510
incorporado en la placa ahora si nos

78
00:03:21,500 --> 00:03:26,930
dirigimos a la página principal de

79
00:03:23,509 --> 00:03:28,969
arduino en arduino punto cc en este menú

80
00:03:26,930 --> 00:03:31,670
de la barra superior seleccionamos eye

81
00:03:28,969 --> 00:03:34,128
out y cloud y si nos presenta con esta

82
00:03:31,669 --> 00:03:36,859
página para ingresar al servicio quizás

83
00:03:34,128 --> 00:03:39,139
ya tengas una cuenta por ejemplo si has

84
00:03:36,860 --> 00:03:42,620
participado de algún foro caso contrario

85
00:03:39,139 --> 00:03:44,268
puedes seleccionar en create one lo voy

86
00:03:42,620 --> 00:03:46,430
a hacer para comentarte los datos que

87
00:03:44,269 --> 00:03:49,250
solicita que son la fecha de cumpleaños

88
00:03:46,430 --> 00:03:52,129
una dirección de correo electrónico un

89
00:03:49,250 --> 00:03:54,318
nombre de usuario y una contraseña luego

90
00:03:52,128 --> 00:03:56,358
aceptar las condiciones del servicio y

91
00:03:54,318 --> 00:03:58,729
recibirás inmediatamente un correo

92
00:03:56,359 --> 00:04:00,500
electrónico con un botón para confirmar

93
00:03:58,729 --> 00:04:02,568
y eso es todo

94
00:04:00,500 --> 00:04:06,199
colocó entonces el usuario y contraseña

95
00:04:02,568 --> 00:04:08,298
de mi cuenta y el botón sign in genial

96
00:04:06,199 --> 00:04:11,598
lo primero que nos presenta es un

97
00:04:08,299 --> 00:04:13,790
mensaje para crear un fin una cosa ya

98
00:04:11,598 --> 00:04:17,358
que todo quedará asociada a esta entidad

99
00:04:13,789 --> 00:04:19,548
virtual clic en create fin en esta

100
00:04:17,358 --> 00:04:21,649
sección iremos cargando todo lo asociado

101
00:04:19,548 --> 00:04:24,589
a las variables a utilizar el

102
00:04:21,649 --> 00:04:27,319
dispositivo y la red comencemos con el

103
00:04:24,589 --> 00:04:29,509
variable agregar variable

104
00:04:27,319 --> 00:04:31,909
como su nombre indica vamos a definir

105
00:04:29,509 --> 00:04:34,699
variables en donde almacenar los valores

106
00:04:31,910 --> 00:04:37,280
leídos del sensor de ht y también las

107
00:04:34,699 --> 00:04:39,979
asociadas a los componentes del led rgb

108
00:04:37,279 --> 00:04:41,809
por eso la primera variable vamos a

109
00:04:39,980 --> 00:04:44,420
darle el nombre de led

110
00:04:41,810 --> 00:04:46,670
rojo luego seleccionar el tipo de

111
00:04:44,420 --> 00:04:49,600
variable como el led tendrá sólo dos

112
00:04:46,670 --> 00:04:51,949
estados posibles encendido o apagado

113
00:04:49,600 --> 00:04:54,860
seleccionamos una variable del tipo

114
00:04:51,949 --> 00:04:55,939
booleana que puede asumir justamente dos

115
00:04:54,860 --> 00:04:58,699
estados

116
00:04:55,939 --> 00:05:01,250
verdadero o falso debajo de la sección

117
00:04:58,699 --> 00:05:04,029
variable el permisión permiso de la

118
00:05:01,250 --> 00:05:07,160
variable tenemos seleccionado read write

119
00:05:04,029 --> 00:05:10,789
lectura y escritura y también con opción

120
00:05:07,160 --> 00:05:13,220
read aun lee sólo lectura esto está

121
00:05:10,790 --> 00:05:15,290
asociado a la acción que tomaremos como

122
00:05:13,220 --> 00:05:17,630
vamos a controlar al componente de led

123
00:05:15,290 --> 00:05:20,150
rgb debe ser de lectura y escritura

124
00:05:17,629 --> 00:05:22,399
podrás imaginar que luego en el código

125
00:05:20,149 --> 00:05:24,829
como ya hicimos muchas veces aplicaremos

126
00:05:22,399 --> 00:05:27,909
un digital write para encender o apagar

127
00:05:24,829 --> 00:05:30,409
el led en variable update policy

128
00:05:27,910 --> 00:05:33,380
política de actualización de la variable

129
00:05:30,410 --> 00:05:36,140
dos opciones un change

130
00:05:33,379 --> 00:05:39,319
que sería al cambiar y periódica link

131
00:05:36,139 --> 00:05:41,120
periódicamente lo dejamos por defecto ya

132
00:05:39,319 --> 00:05:43,610
que nuestra intención es que la variable

133
00:05:41,120 --> 00:05:45,769
led y un bajo rojo se actualice

134
00:05:43,610 --> 00:05:48,560
únicamente cuando se produzca un cambio

135
00:05:45,769 --> 00:05:50,509
de estado sé que parece complicado pero

136
00:05:48,560 --> 00:05:52,939
cuando lleguemos a la programación todo

137
00:05:50,509 --> 00:05:56,329
tendrá sentido finalizamos presionando

138
00:05:52,939 --> 00:05:58,819
en variable vamos a repetir este proceso

139
00:05:56,329 --> 00:06:01,250
dos veces más primero con el botón add

140
00:05:58,819 --> 00:06:05,060
en name led

141
00:06:01,250 --> 00:06:08,600
verde variable del tipo juliana todo por

142
00:06:05,060 --> 00:06:11,540
defecto y variable misma mecánica para

143
00:06:08,600 --> 00:06:15,280
otra variable con el nombre led bajo

144
00:06:11,540 --> 00:06:18,170
azul booleana y variable

145
00:06:15,279 --> 00:06:19,969
perfecto tenemos tres variables para el

146
00:06:18,170 --> 00:06:22,850
control de cada uno de los componentes

147
00:06:19,970 --> 00:06:25,460
del led rgb vamos a crear ahora las

148
00:06:22,850 --> 00:06:28,400
variables para la información del dht 22

149
00:06:25,459 --> 00:06:31,489
nuevamente con el botón add el nombre

150
00:06:28,399 --> 00:06:33,669
será de ht y un bajo temperatura en el

151
00:06:31,490 --> 00:06:36,769
tipo de variable esta vez seleccionamos

152
00:06:33,670 --> 00:06:39,410
clouding point number ya que el valor

153
00:06:36,769 --> 00:06:43,629
devuelto es con coma decimal por ejemplo

154
00:06:39,410 --> 00:06:45,490
una temple de 23.4 grados celsius

155
00:06:43,629 --> 00:06:48,920
también diferente de las anteriores

156
00:06:45,490 --> 00:06:50,900
variables seleccionamos read only sólo

157
00:06:48,920 --> 00:06:53,870
lectura esto es porque no estamos

158
00:06:50,899 --> 00:06:57,469
enviando datos al sensor sólo leemos al

159
00:06:53,870 --> 00:06:59,870
sensor el campo threshhold que es umbral

160
00:06:57,470 --> 00:07:02,540
lo dejamos por defecto al no ser

161
00:06:59,870 --> 00:07:04,850
aplicable para nuestro caso y botón add

162
00:07:02,540 --> 00:07:07,280
variable última variable para el

163
00:07:04,850 --> 00:07:09,350
proyecto que ya la podrás imaginar la

164
00:07:07,279 --> 00:07:12,319
que usaremos para asignar el valor leído

165
00:07:09,350 --> 00:07:15,590
de humedad con el nombre de ht guión

166
00:07:12,319 --> 00:07:17,209
bajo humedad del tipo punto flotante y

167
00:07:15,589 --> 00:07:18,619
ruido only

168
00:07:17,209 --> 00:07:20,479
con todas las variables que usaremos

169
00:07:18,620 --> 00:07:23,449
para el proyecto es hora de ir a la

170
00:07:20,480 --> 00:07:25,580
sección device aquí seleccionamos el

171
00:07:23,449 --> 00:07:29,000
modelo de la placa con el botón select

172
00:07:25,579 --> 00:07:31,579
device existen dos grandes grupos placas

173
00:07:29,000 --> 00:07:33,620
de arduino y de terceros si vamos a la

174
00:07:31,579 --> 00:07:35,659
sección de arduino y posicionamos el

175
00:07:33,620 --> 00:07:37,639
cursor sobre el icono del signo de

176
00:07:35,660 --> 00:07:42,350
interrogación aparecen los modelos

177
00:07:37,639 --> 00:07:46,089
soportados 33 youth y serie m caer por

178
00:07:42,350 --> 00:07:49,189
30 y claro la que utilizaremos nosotros

179
00:07:46,089 --> 00:07:51,339
2040 conecta en los dispositivos de

180
00:07:49,189 --> 00:07:56,569
terceros tendremos los modelos populares

181
00:07:51,339 --> 00:07:59,389
esp 82 66 y s&amp;p 32 entre otros lo cual

182
00:07:56,569 --> 00:08:01,819
es muy bueno ya que placas esp son muy

183
00:07:59,389 --> 00:08:04,819
valoradas por ser versátiles y de bajo

184
00:08:01,819 --> 00:08:07,240
costo y se celebra que tengan soporte en

185
00:08:04,819 --> 00:08:10,159
arduino a youth cloud para este proyecto

186
00:08:07,240 --> 00:08:12,139
seleccionamos arduino se nos presenta

187
00:08:10,160 --> 00:08:14,750
con este mensaje indicando que es

188
00:08:12,139 --> 00:08:17,389
necesario instalar el arduino create

189
00:08:14,750 --> 00:08:19,250
agent se trata de un pequeño programa

190
00:08:17,389 --> 00:08:23,180
que hace de puente entre el navegador

191
00:08:19,250 --> 00:08:25,730
web y el acceso a los puertos com y usb

192
00:08:23,180 --> 00:08:27,470
de la computadora el navegador web no

193
00:08:25,730 --> 00:08:29,810
tiene acceso a dichos puertos por

194
00:08:27,470 --> 00:08:31,880
defecto por eso la necesidad de instalar

195
00:08:29,810 --> 00:08:34,729
este programa con lo cual simplemente

196
00:08:31,879 --> 00:08:36,860
presionamos el botón download se

197
00:08:34,729 --> 00:08:39,259
descarga un pequeño programa y podemos

198
00:08:36,860 --> 00:08:42,149
hacer clic para abrirlo e iniciar el

199
00:08:39,259 --> 00:08:45,539
instalador botón next

200
00:08:42,149 --> 00:08:47,669
excepto agreement y luego next nos

201
00:08:45,539 --> 00:08:49,919
indica la dirección del directorio donde

202
00:08:47,669 --> 00:08:53,069
instalar el programa que por defecto es

203
00:08:49,919 --> 00:08:55,019
correcto botón next luego nos pregunta

204
00:08:53,070 --> 00:08:57,570
si estaremos usando el programa con un

205
00:08:55,019 --> 00:09:00,509
navegador web distinto a chrome por

206
00:08:57,570 --> 00:09:03,210
ejemplo firefox yo lo utilizaré solo con

207
00:09:00,509 --> 00:09:05,240
chrome por eso dejo por defecto en nou

208
00:09:03,210 --> 00:09:07,740
si fueras a acceder a la plataforma

209
00:09:05,240 --> 00:09:11,940
justamente con otro navegador distinto

210
00:09:07,740 --> 00:09:14,269
debería ser seleccionar yes botón next y

211
00:09:11,940 --> 00:09:17,370
nuevamente next en pocos segundos

212
00:09:14,269 --> 00:09:18,750
instalar y finalizamos presionando en

213
00:09:17,370 --> 00:09:20,850
finish

214
00:09:18,750 --> 00:09:22,860
ahora intentará detectar la presencia de

215
00:09:20,850 --> 00:09:24,720
la placa conectada a la computadora y

216
00:09:22,860 --> 00:09:28,019
como se puede ver lo hace correctamente

217
00:09:24,720 --> 00:09:31,070
y también indica el puerto con 12 para

218
00:09:28,019 --> 00:09:33,779
mi caso particular genial click en botón

219
00:09:31,070 --> 00:09:35,610
configure nos solicita que le asignemos

220
00:09:33,779 --> 00:09:37,769
un nombre para luego tener como

221
00:09:35,610 --> 00:09:40,350
referencia en la plataforma haya útil

222
00:09:37,769 --> 00:09:42,389
muestra un nombre al azar que se puede

223
00:09:40,350 --> 00:09:44,779
actualizar por otro nombre y con este

224
00:09:42,389 --> 00:09:48,189
icono de aquí vamos a colocar un nombre

225
00:09:44,779 --> 00:09:51,759
personalizado como ser un elocuente

226
00:09:48,190 --> 00:09:54,970
rp 2040 connect claro que podrás asignar

227
00:09:51,759 --> 00:09:57,370
el nombre que desees clic en next ahora

228
00:09:54,970 --> 00:09:58,990
comienza un proceso de configuración que

229
00:09:57,370 --> 00:10:02,049
puede demorar como indica el mensaje

230
00:09:58,990 --> 00:10:04,629
hasta 5 minutos así que paciencia en

231
00:10:02,049 --> 00:10:07,179
este punto en mi caso demoró unos dos

232
00:10:04,629 --> 00:10:09,460
minutos en total es normal que aparezca

233
00:10:07,179 --> 00:10:11,829
en algún momento una ventana de windows

234
00:10:09,460 --> 00:10:13,960
ya que la placa se reinicia luego

235
00:10:11,830 --> 00:10:16,780
desaparece de forma automática o

236
00:10:13,960 --> 00:10:19,300
simplemente desestimarlo la confirmación

237
00:10:16,779 --> 00:10:21,879
final es como la siguiente donde sólo

238
00:10:19,299 --> 00:10:24,250
resta hacer clic en dan podemos

239
00:10:21,879 --> 00:10:26,049
verificar que la sección device ya

240
00:10:24,250 --> 00:10:28,990
muestra el modelo de la placa y un

241
00:10:26,049 --> 00:10:31,089
número de identificación único generado

242
00:10:28,990 --> 00:10:33,879
en el proceso anterior lo que resta es

243
00:10:31,090 --> 00:10:35,860
configurar la red antes en la parte

244
00:10:33,879 --> 00:10:38,139
inferior de pantalla debemos seleccionar

245
00:10:35,860 --> 00:10:40,629
la zona horaria correcta mediante el

246
00:10:38,139 --> 00:10:43,689
menú desplegable seleccionó para mi caso

247
00:10:40,629 --> 00:10:46,059
américa argentina buenos aires es

248
00:10:43,690 --> 00:10:47,890
importante seleccionar este dato antes

249
00:10:46,059 --> 00:10:51,219
de ingresar la información de nuestra

250
00:10:47,889 --> 00:10:53,830
red local y ahora si el botón configuró

251
00:10:51,220 --> 00:10:56,889
se nos solicita que ingresemos el nombre

252
00:10:53,830 --> 00:10:58,690
de nuestra red wifi y password datos que

253
00:10:56,889 --> 00:11:01,000
claro son necesarios para que nuestra

254
00:10:58,690 --> 00:11:03,700
placa pueda conectarse a la red de local

255
00:11:01,000 --> 00:11:06,399
con acceso a internet y así comunicarse

256
00:11:03,700 --> 00:11:09,520
con el servicio de out y cloud cargamos

257
00:11:06,399 --> 00:11:12,220
los datos y clic en save ahora nos

258
00:11:09,519 --> 00:11:13,600
dirigimos a la solapa sketch aquí arriba

259
00:11:12,220 --> 00:11:15,639
en donde se ha creado de forma

260
00:11:13,600 --> 00:11:18,670
automática parte del código que

261
00:11:15,639 --> 00:11:21,370
utilizaremos para el proyecto esta vista

262
00:11:18,669 --> 00:11:23,769
es la más simple pero recuerda a cómo

263
00:11:21,370 --> 00:11:26,139
trabajaríamos con el editor en el id de

264
00:11:23,769 --> 00:11:27,909
arduino pero ahora lo haremos totalmente

265
00:11:26,139 --> 00:11:30,639
en línea escribiendo el código

266
00:11:27,909 --> 00:11:32,679
personalizado compilando y subiendo la

267
00:11:30,639 --> 00:11:35,500
placa pero como estaremos necesitando

268
00:11:32,679 --> 00:11:37,569
incorporar una librería para el de ht 22

269
00:11:35,500 --> 00:11:40,059
es mejor acceder a la versión completa

270
00:11:37,570 --> 00:11:43,210
del editor haciendo click en el botón

271
00:11:40,059 --> 00:11:45,909
open full editor se abre una nueva

272
00:11:43,210 --> 00:11:47,950
pestaña del navegador y lo carga y

273
00:11:45,909 --> 00:11:50,439
podremos poner manos a la obra con el

274
00:11:47,950 --> 00:11:53,170
código antes que nada en la sección de

275
00:11:50,440 --> 00:11:55,690
preferences preferencias sobre la barra

276
00:11:53,169 --> 00:11:58,089
lateral izquierda incremento el tamaño

277
00:11:55,690 --> 00:12:00,910
de letra a 18 puntos para que se vea

278
00:11:58,090 --> 00:12:03,550
mejor y ahora sí analicemos un poco el

279
00:12:00,909 --> 00:12:05,409
código generado de forma automática aquí

280
00:12:03,549 --> 00:12:08,349
se encuentra como parte de un comentario

281
00:12:05,409 --> 00:12:10,779
por eso se encuentra de color gris las

282
00:12:08,350 --> 00:12:12,730
variables que creamos antes luego este

283
00:12:10,779 --> 00:12:15,579
numeral include hace referencia a

284
00:12:12,730 --> 00:12:18,759
incorporar el archivo think properties

285
00:12:15,580 --> 00:12:20,800
punto h no se trata de una librería sino

286
00:12:18,759 --> 00:12:23,049
que es código separado que se puede

287
00:12:20,799 --> 00:12:25,779
acceder mediante esta solapa del mismo

288
00:12:23,049 --> 00:12:28,539
nombre haciendo clic vemos su contenido

289
00:12:25,779 --> 00:12:30,970
aquí si aparecen las declaraciones de

290
00:12:28,539 --> 00:12:33,969
las variables a utilizar las dos del

291
00:12:30,970 --> 00:12:36,070
tipo punto flotante para el de ht 22 y

292
00:12:33,970 --> 00:12:38,920
las 3 buljan para el control de los

293
00:12:36,070 --> 00:12:40,900
componentes del de rgb también tres

294
00:12:38,919 --> 00:12:43,149
funciones que serán llamadas al

295
00:12:40,899 --> 00:12:45,189
activarse interruptores que crearemos

296
00:12:43,149 --> 00:12:47,350
luego en el touch word o panel de

297
00:12:45,190 --> 00:12:50,140
control aquí en el comentario de la

298
00:12:47,350 --> 00:12:52,720
primer línea se hace énfasis en que no

299
00:12:50,139 --> 00:12:54,970
debemos editar este contenido ya que fue

300
00:12:52,720 --> 00:12:57,670
creado de forma automática en base a

301
00:12:54,970 --> 00:13:00,160
valores que cargamos previamente los

302
00:12:57,669 --> 00:13:02,740
datos de red también se hacen referencia

303
00:13:00,159 --> 00:13:04,959
aquí con constantes donde los valores

304
00:13:02,740 --> 00:13:08,589
actuales se encuentran sobre esta otra

305
00:13:04,960 --> 00:13:10,449
solapa con el nombre secret secreto de

306
00:13:08,589 --> 00:13:12,910
manera de tener organizado todo el

307
00:13:10,448 --> 00:13:15,248
proyecto e incluso poder compartirlo

308
00:13:12,909 --> 00:13:17,350
claro está no incorporando datos

309
00:13:15,249 --> 00:13:19,860
sensibles de las credenciales de red

310
00:13:17,350 --> 00:13:22,689
como los que contiene la solapa secret

311
00:13:19,860 --> 00:13:25,149
entonces volvemos a la primera solapa

312
00:13:22,688 --> 00:13:27,429
donde tenemos la estructura o esqueleto

313
00:13:25,149 --> 00:13:29,708
del proyecto com parte del código ya

314
00:13:27,429 --> 00:13:31,659
generado como verás se encuentra la

315
00:13:29,708 --> 00:13:34,359
función setup como ya estamos

316
00:13:31,659 --> 00:13:36,818
acostumbrados debajo el loop para el

317
00:13:34,360 --> 00:13:39,100
bucle principal y hacia el final las

318
00:13:36,818 --> 00:13:42,399
funciones específicas que son llamadas

319
00:13:39,100 --> 00:13:45,129
para controlar el led rgb tres funciones

320
00:13:42,399 --> 00:13:46,899
una para cada componente de color es

321
00:13:45,129 --> 00:13:50,230
hora de incorporar nuestro propio código

322
00:13:46,899 --> 00:13:52,659
para controlar el led rgb de la placa

323
00:13:50,230 --> 00:13:55,808
debemos establecer los pines como salida

324
00:13:52,659 --> 00:13:58,120
con pin mode por eso digo antes de la

325
00:13:55,808 --> 00:14:01,299
llave de cierre del set up estas tres

326
00:13:58,120 --> 00:14:04,089
líneas ya vimos en el capítulo 69 que la

327
00:14:01,299 --> 00:14:08,299
placa rp 20 40 connect tiene tres

328
00:14:04,089 --> 00:14:11,780
constantes específicas que son led r

329
00:14:08,299 --> 00:14:14,870
y leve larga hacen referencia a los

330
00:14:11,779 --> 00:14:17,929
hippies internos que controlan a cada

331
00:14:14,870 --> 00:14:20,509
uno de los colores con lo establecimos

332
00:14:17,929 --> 00:14:23,779
como salida output ahora nos dirigimos

333
00:14:20,509 --> 00:14:25,909
más abajo luego del loop a las funciones

334
00:14:23,779 --> 00:14:28,220
creadas automáticamente para el control

335
00:14:25,909 --> 00:14:31,909
de cada uno de los colores en la primera

336
00:14:28,220 --> 00:14:34,190
es un led azul change es decir con el

337
00:14:31,909 --> 00:14:36,649
cambio del led azul aquí colocaremos

338
00:14:34,190 --> 00:14:38,900
nuestro código podemos eliminar esta

339
00:14:36,649 --> 00:14:41,600
línea del comentario y pegar estas

340
00:14:38,899 --> 00:14:43,759
líneas se trata de un simple condicional

341
00:14:41,600 --> 00:14:47,300
que consulta por el valor de la variable

342
00:14:43,759 --> 00:14:49,669
led azul recuerda que esta variable la

343
00:14:47,299 --> 00:14:52,579
creamos al principio del tipo juliana

344
00:14:49,669 --> 00:14:55,490
por eso podrá asumir un valor de true o

345
00:14:52,580 --> 00:14:57,950
falls verdadero o falso entonces

346
00:14:55,490 --> 00:15:00,799
simplemente si el valor es verdadero

347
00:14:57,950 --> 00:15:05,420
encendemos el componente azul del led

348
00:15:00,799 --> 00:15:09,079
rgb con un digital white led de larga

349
00:15:05,419 --> 00:15:11,779
así de simple 'la els llegamos si le da

350
00:15:09,080 --> 00:15:14,780
azul tiene un valor de falso entonces

351
00:15:11,779 --> 00:15:18,079
apagamos dicho componente con un digital

352
00:15:14,779 --> 00:15:21,009
right led b larga low ahora utilizaremos

353
00:15:18,080 --> 00:15:23,960
la misma mecánica para el led rojo

354
00:15:21,009 --> 00:15:26,750
ingresando código en la función un led

355
00:15:23,960 --> 00:15:28,900
rojo change también con el condicional

356
00:15:26,750 --> 00:15:32,840
que evalúa esta vez el valor del led

357
00:15:28,899 --> 00:15:35,959
rojo y si es verdadero enciende y si es

358
00:15:32,840 --> 00:15:38,629
falso apaga con los digital right y

359
00:15:35,960 --> 00:15:41,060
vamos rápido a la función un led verde

360
00:15:38,629 --> 00:15:44,259
change con el mismo método para evaluar

361
00:15:41,059 --> 00:15:47,479
led y jon bajo verde y aplicar la acción

362
00:15:44,259 --> 00:15:50,659
genial ya tenemos todo listo para el

363
00:15:47,480 --> 00:15:53,330
control del led rgb incorporado vamos

364
00:15:50,659 --> 00:15:55,669
ahora a ver el tema de ht 22 que

365
00:15:53,330 --> 00:15:58,280
requiere incorporar una librería lo

366
00:15:55,669 --> 00:16:00,860
hacemos muy fácil ingresando a libraries

367
00:15:58,279 --> 00:16:04,039
sobre la barra lateral luego el botón

368
00:16:00,860 --> 00:16:05,930
library manager que sería equivalente al

369
00:16:04,039 --> 00:16:09,259
gestor de librerías que estamos

370
00:16:05,929 --> 00:16:10,759
acostumbrados del ide en search library

371
00:16:09,259 --> 00:16:14,059
escribimos

372
00:16:10,759 --> 00:16:17,330
y el primer resultado es el adecuado con

373
00:16:14,059 --> 00:16:19,389
dht sensor library para usar esta

374
00:16:17,330 --> 00:16:22,910
librería simplemente debemos seleccionar

375
00:16:19,389 --> 00:16:25,490
esta estrella sobre la fila y luego el

376
00:16:22,909 --> 00:16:27,649
botón dan ahora en la solapa de

377
00:16:25,490 --> 00:16:29,990
favoritos nos aparece la librería que

378
00:16:27,649 --> 00:16:32,269
recién marcamos y presionando sobre el

379
00:16:29,990 --> 00:16:37,430
botón include verdes que agrega al

380
00:16:32,269 --> 00:16:40,189
código 2 numeral incluso para dht vih t

381
00:16:37,429 --> 00:16:42,679
y ese es todo el proceso de incorporar

382
00:16:40,190 --> 00:16:45,200
una librería realmente muy rápido y

383
00:16:42,679 --> 00:16:47,000
conveniente como estamos en un servicio

384
00:16:45,200 --> 00:16:49,550
en línea no debemos descargar ni

385
00:16:47,000 --> 00:16:52,129
instalar nada ya todo se encuentra a

386
00:16:49,549 --> 00:16:54,889
nuestra disposición como ya vimos en el

387
00:16:52,129 --> 00:16:57,139
capítulo 7 vamos a definir el pin donde

388
00:16:54,889 --> 00:17:00,169
se encuentra conectada la señal del dhd

389
00:16:57,139 --> 00:17:02,179
22 y crear el objeto así que en un

390
00:17:00,169 --> 00:17:04,399
espacio libre antes de el setup

391
00:17:02,179 --> 00:17:08,149
colocamos las siguientes líneas con

392
00:17:04,400 --> 00:17:10,940
numeral the fame dht pin y el número 4

393
00:17:08,150 --> 00:17:14,600
luego creamos un objeto con el nombre de

394
00:17:10,940 --> 00:17:17,889
ht del tipo de ht y le pasamos como

395
00:17:14,599 --> 00:17:20,740
parámetros el número de pin y el mod en

396
00:17:17,888 --> 00:17:24,250
este caso uno de ht 22 aunque puede ser

397
00:17:20,740 --> 00:17:26,199
sin problemas uno de ht 11 en el setup y

398
00:17:24,250 --> 00:17:28,419
luego de los pin mode

399
00:17:26,199 --> 00:17:31,389
dejaremos también un par de espacios y

400
00:17:28,419 --> 00:17:34,570
usamos en esta línea la función bin del

401
00:17:31,388 --> 00:17:36,729
objeto de ht para inicializar al sensor

402
00:17:34,569 --> 00:17:39,819
solo resta el código en el loop

403
00:17:36,730 --> 00:17:41,798
utilizaremos la función read temperature

404
00:17:39,819 --> 00:17:44,200
para obtener el valor de temperatura

405
00:17:41,798 --> 00:17:47,349
actual y lo asignamos a la variable

406
00:17:44,200 --> 00:17:50,288
creada al principio de ht bajo

407
00:17:47,349 --> 00:17:52,658
temperatura luego la función read you

408
00:17:50,288 --> 00:17:56,429
mean it y el valor leído de humedad

409
00:17:52,659 --> 00:17:59,379
asignamos a la variable de ht humedad

410
00:17:56,429 --> 00:18:02,019
por último una demora de dos segundos

411
00:17:59,378 --> 00:18:04,538
para no hacer lecturas tan seguidas del

412
00:18:02,019 --> 00:18:06,909
sensor y ese es todo el código necesario

413
00:18:04,538 --> 00:18:09,278
para el proyecto puede parecer largo

414
00:18:06,909 --> 00:18:11,620
pero muchas líneas son sólo comentarios

415
00:18:09,278 --> 00:18:13,720
y luego otras funciones que son

416
00:18:11,619 --> 00:18:16,898
necesarias para el funcionamiento de la

417
00:18:13,720 --> 00:18:19,240
plataforma icloud resta solo subirlo a

418
00:18:16,898 --> 00:18:22,778
la placa con este botón de la flecha a

419
00:18:19,240 --> 00:18:25,990
plug and save subir y guardar este

420
00:18:22,778 --> 00:18:27,579
proceso compila y lo sube todo se

421
00:18:25,990 --> 00:18:30,308
realiza sobre los servidores de arduino

422
00:18:27,579 --> 00:18:32,710
ningún procesamiento se lleva a cabo de

423
00:18:30,308 --> 00:18:35,440
forma local solo cuando debes subir el

424
00:18:32,710 --> 00:18:38,230
código ya ha compilado la placa es que

425
00:18:35,440 --> 00:18:40,480
el programa arduino create agents sirvió

426
00:18:38,230 --> 00:18:42,970
de puente para comunicarse con el puerto

427
00:18:40,480 --> 00:18:45,339
com cabe aclarar que este proceso puede

428
00:18:42,970 --> 00:18:47,829
demorar varios minutos así que mejor

429
00:18:45,339 --> 00:18:50,859
tener paciencia aquí debajo cuando

430
00:18:47,829 --> 00:18:53,769
finalice podremos observar la barra que

431
00:18:50,859 --> 00:18:57,479
pasa a color verde y se visualiza en el

432
00:18:53,769 --> 00:19:00,069
texto 100% genial ya casi terminamos

433
00:18:57,480 --> 00:19:02,140
ingresemos en la pestaña que nos quedó

434
00:19:00,069 --> 00:19:04,990
abierta y en la barra superior a

435
00:19:02,140 --> 00:19:07,030
dashboards un dashboard o panel de

436
00:19:04,990 --> 00:19:09,099
control también llamado tablero de

437
00:19:07,029 --> 00:19:12,099
control es una forma de representar

438
00:19:09,099 --> 00:19:14,500
gráficamente datos mediante medidores e

439
00:19:12,099 --> 00:19:18,038
interruptores virtuales clic en el botón

440
00:19:14,500 --> 00:19:20,829
build dashboard para comenzar el botón

441
00:19:18,038 --> 00:19:22,658
add despliega una serie de elementos que

442
00:19:20,829 --> 00:19:24,788
podemos introducir en el panel de

443
00:19:22,659 --> 00:19:28,390
control busquemos el que tiene el nombre

444
00:19:24,788 --> 00:19:30,429
de gates medidor en español y como su

445
00:19:28,390 --> 00:19:33,429
nombre lo indica emular un medidor

446
00:19:30,429 --> 00:19:36,220
analógico muestra un valor de ejemplo de

447
00:19:33,429 --> 00:19:38,519
22 pero imaginarás que aquí mostraremos

448
00:19:36,220 --> 00:19:41,139
el valor de la variable de temperatura

449
00:19:38,519 --> 00:19:43,990
cambiamos el nombre por temperatura

450
00:19:41,138 --> 00:19:46,959
luego clic en el botón link variable

451
00:19:43,990 --> 00:19:49,298
enlazar variable automáticamente nos

452
00:19:46,960 --> 00:19:52,480
devuelve las variables disponibles las

453
00:19:49,298 --> 00:19:54,970
de control del led rgb las listas pero

454
00:19:52,480 --> 00:19:57,519
no están disponibles porque son el tipo

455
00:19:54,970 --> 00:19:59,950
lectura y escritura así que un medidor

456
00:19:57,519 --> 00:20:01,829
por defecto acepta variables que hayamos

457
00:19:59,950 --> 00:20:04,860
definido como de sólo lectura

458
00:20:01,829 --> 00:20:07,808
seleccionemos entonces dht

459
00:20:04,859 --> 00:20:10,599
temperatura y luego el botón el link

460
00:20:07,808 --> 00:20:12,879
variable aquí tenemos la posibilidad de

461
00:20:10,599 --> 00:20:15,819
asignar un rango para los valores a

462
00:20:12,880 --> 00:20:18,100
mostrar el límite superior de 100 es muy

463
00:20:15,819 --> 00:20:20,710
alto teniendo en cuenta a temperatura

464
00:20:18,099 --> 00:20:22,839
ambiente en grados celsius así que lo

465
00:20:20,710 --> 00:20:26,590
cambiamos a un valor más coherente como

466
00:20:22,839 --> 00:20:29,138
ser 50 sólo resta presionar dan y hemos

467
00:20:26,589 --> 00:20:30,849
creado el primer medidor que pronto se

468
00:20:29,138 --> 00:20:34,658
actualizará con la lectura de

469
00:20:30,849 --> 00:20:36,879
temperatura del dh t 22 usemos la misma

470
00:20:34,659 --> 00:20:39,880
metodología para incorporar un segundo

471
00:20:36,880 --> 00:20:43,090
medidor también del tipo gates cambiamos

472
00:20:39,880 --> 00:20:46,660
el nombre por humedad en link variable

473
00:20:43,089 --> 00:20:48,429
seleccionamos dht humedad y el rango de

474
00:20:46,660 --> 00:20:52,810
valores por defecto ya que la humedad

475
00:20:48,430 --> 00:20:55,690
entre 0 y 100 va perfecto botón dan para

476
00:20:52,809 --> 00:20:57,549
terminar luego del arduo trabajo hasta

477
00:20:55,690 --> 00:21:00,640
el momento esta parte resulta

478
00:20:57,549 --> 00:21:03,490
entretenida verdad de acuerdo ahora para

479
00:21:00,640 --> 00:21:06,100
el control del led rgb agregamos un

480
00:21:03,490 --> 00:21:08,890
interruptor un switch cambiamos el

481
00:21:06,099 --> 00:21:11,469
nombre por rojo claro que podrás siempre

482
00:21:08,890 --> 00:21:15,850
asignar el nombre que desees en el link

483
00:21:11,470 --> 00:21:19,620
variable seleccionamos led rojo

484
00:21:15,849 --> 00:21:22,329
botón link variable y finalmente dan

485
00:21:19,619 --> 00:21:24,219
repetiremos este proceso para incorporar

486
00:21:22,329 --> 00:21:27,909
un interruptor para el componente de

487
00:21:24,220 --> 00:21:30,339
color verde enlazado con la variable led

488
00:21:27,910 --> 00:21:32,980
verde y otro interruptor para el led

489
00:21:30,339 --> 00:21:36,250
azul y ya tenemos listo nuestro panel de

490
00:21:32,980 --> 00:21:39,250
control ahora estamos en modo edición si

491
00:21:36,250 --> 00:21:41,710
hacemos clic en este icono del ojo vamos

492
00:21:39,250 --> 00:21:45,190
a la visualización y ya se muestran en

493
00:21:41,710 --> 00:21:47,558
los medidores 1 temperatura de 25.9

494
00:21:45,190 --> 00:21:52,058
grados celsius y una humedad relativa

495
00:21:47,558 --> 00:21:54,398
del 74 3% día caluroso y húmedo por

496
00:21:52,058 --> 00:21:57,278
estas latitudes claro que estos valores

497
00:21:54,398 --> 00:22:00,398
se actualizarán en tiempo real probemos

498
00:21:57,278 --> 00:22:02,980
los interruptores primero el rojo al

499
00:22:00,398 --> 00:22:05,829
hacer clic vemos la animación que cambia

500
00:22:02,980 --> 00:22:07,509
de estado encendido y también

501
00:22:05,829 --> 00:22:10,599
comprobamos que nuestra placa el

502
00:22:07,509 --> 00:22:14,048
componente de color rojo del led rgb se

503
00:22:10,599 --> 00:22:16,178
enciende genial clic nuevamente para

504
00:22:14,048 --> 00:22:19,329
apagarlo y efectivamente en nuestra

505
00:22:16,179 --> 00:22:22,840
placa se apaga claro que podemos probar

506
00:22:19,329 --> 00:22:25,778
con el verde de encenderlo y apagarlo lo

507
00:22:22,839 --> 00:22:27,788
mismo para el azul también activando en

508
00:22:25,778 --> 00:22:30,788
los tres en simultáneo que da como

509
00:22:27,788 --> 00:22:33,009
resultado un color similar al blanco y

510
00:22:30,788 --> 00:22:35,288
por ejemplo ir apagando de a uno por vez

511
00:22:33,009 --> 00:22:37,179
es importante notar que toda la

512
00:22:35,288 --> 00:22:39,759
comunicación se realiza de forma

513
00:22:37,179 --> 00:22:42,369
inalámbrica a través de internet con el

514
00:22:39,759 --> 00:22:44,368
servicio de arduino hay out y cloud como

515
00:22:42,368 --> 00:22:46,990
agente intermediario en algunas

516
00:22:44,368 --> 00:22:49,720
ocasiones es normal que notes alguna

517
00:22:46,990 --> 00:22:51,819
demora por ejemplo al activar un color

518
00:22:49,720 --> 00:22:54,029
ya que la orden no le estamos dando de

519
00:22:51,819 --> 00:22:56,139
forma local es a través del navegador

520
00:22:54,029 --> 00:22:59,079
conectado con los servidores de arduino

521
00:22:56,140 --> 00:23:01,300
y estos enviando el comando a nuestra

522
00:22:59,079 --> 00:23:04,329
red local a la cual la placa se

523
00:23:01,299 --> 00:23:07,240
encuentra conectada a la nube en todo su

524
00:23:04,329 --> 00:23:08,799
esplendor por cierto este icono de aquí

525
00:23:07,240 --> 00:23:11,200
permite conmutar al modo de

526
00:23:08,799 --> 00:23:14,289
visualización para dispositivos móviles

527
00:23:11,200 --> 00:23:16,330
como ser teléfonos o tablets aquí la

528
00:23:14,289 --> 00:23:18,250
distribución típica para un teléfono

529
00:23:16,329 --> 00:23:21,039
móvil con prácticamente todo el

530
00:23:18,250 --> 00:23:23,470
contenido en una sola columna pero mejor

531
00:23:21,039 --> 00:23:26,349
sería acceder desde una aplicación y

532
00:23:23,470 --> 00:23:28,900
claro que existe una tanto para ios como

533
00:23:26,349 --> 00:23:31,449
para android aquí te muestro desde el

534
00:23:28,900 --> 00:23:34,180
app store buscamos por una aplicación

535
00:23:31,450 --> 00:23:36,640
con el nombre arduino eye out y cloud

536
00:23:34,180 --> 00:23:39,220
remote se trata del oficial de arduino

537
00:23:36,640 --> 00:23:41,560
una vez instalada y al abrirla por

538
00:23:39,220 --> 00:23:44,170
primera vez se te solicitará que

539
00:23:41,559 --> 00:23:46,720
ingreses el usuario y contraseña de hay

540
00:23:44,170 --> 00:23:48,700
un tic loud y seleccionar el dashboard

541
00:23:46,720 --> 00:23:51,279
luego aparecen los medios desde

542
00:23:48,700 --> 00:23:53,799
temperatura humedad y los interruptores

543
00:23:51,279 --> 00:23:56,589
para los colores muy útil para tenerlo a

544
00:23:53,799 --> 00:23:58,779
mano y desde a parte del mundo con

545
00:23:56,589 --> 00:24:00,970
conexión a internet justamente la

546
00:23:58,779 --> 00:24:03,250
ventaja de trabajar con un dispositivo

547
00:24:00,970 --> 00:24:06,430
conectado a la nube claro que en vez de

548
00:24:03,250 --> 00:24:10,180
activar un led rgb podrías activar un

549
00:24:06,430 --> 00:24:13,210
relé y así encender o apagar un circuito

550
00:24:10,180 --> 00:24:15,460
externo incluso con tensión de red de

551
00:24:13,210 --> 00:24:17,920
manera que para recapitular realizamos

552
00:24:15,460 --> 00:24:20,259
un proyecto sencillo de internet de las

553
00:24:17,920 --> 00:24:23,019
cosas el servicio gratuito de arduino

554
00:24:20,259 --> 00:24:25,900
youth y cloud permite configurar todos

555
00:24:23,019 --> 00:24:28,359
los aspectos desde el dispositivo acceso

556
00:24:25,900 --> 00:24:30,460
a la red programación y enlazar

557
00:24:28,359 --> 00:24:32,589
variables en un dashboard o panel de

558
00:24:30,460 --> 00:24:34,930
control para una interfaz gráfica

559
00:24:32,589 --> 00:24:37,629
accesible desde cualquier parte del

560
00:24:34,930 --> 00:24:39,789
mundo con conexión a internet eso es

561
00:24:37,630 --> 00:24:42,030
todo por este capítulo si te pareció

562
00:24:39,789 --> 00:24:44,980
interesante recuerda dejar un me gusta

563
00:24:42,029 --> 00:24:47,170
suscribirte si aún no lo has hecho y por

564
00:24:44,980 --> 00:24:52,140
cualquier duda o comentario lo podrás

565
00:24:47,170 --> 00:24:52,140
hacer debajo chao y hasta la próxima

