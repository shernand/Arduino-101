1
00:00:01,649 --> 00:00:07,439
hola a todos y bienvenidos al capítulo

2
00:00:04,500 --> 00:00:09,419
30 de arduino desde cero en español

3
00:00:07,440 --> 00:00:12,118
en esta oportunidad aprenderemos a

4
00:00:09,419 --> 00:00:16,530
utilizar el motor paso a paso unipolar

5
00:00:12,118 --> 00:00:18,689
modelo 28 bj 48 mediante un módulo

6
00:00:16,530 --> 00:00:22,259
controlador basado en el circuito

7
00:00:18,689 --> 00:00:24,000
integrado o ln 2003 este motor es ideal

8
00:00:22,259 --> 00:00:27,268
para iniciarse en proyectos de robótica

9
00:00:24,000 --> 00:00:30,268
o automatización ya que es económico y

10
00:00:27,268 --> 00:00:32,789
muchas veces viene en kits donde ya se

11
00:00:30,268 --> 00:00:35,219
incluye el módulo controlador veamos el

12
00:00:32,789 --> 00:00:37,769
concepto general del motor paso a paso

13
00:00:35,219 --> 00:00:40,560
oeste pero en inglés como su nombre lo

14
00:00:37,770 --> 00:00:42,690
indica este tipo de motor está diseñado

15
00:00:40,560 --> 00:00:45,210
para dar pequeños pasos con gran

16
00:00:42,689 --> 00:00:46,979
precisión y torque a diferencia del

17
00:00:45,210 --> 00:00:50,219
motor de continua que vimos en el

18
00:00:46,979 --> 00:00:52,140
capítulo 19 cuya función era la de girar

19
00:00:50,219 --> 00:00:55,079
continuamente a una velocidad

20
00:00:52,140 --> 00:00:57,299
relativamente alta en el caso del motor

21
00:00:55,079 --> 00:00:59,820
paso a paso lo que se quiere es un giro

22
00:00:57,299 --> 00:01:02,429
lento y de precisión en su construcción

23
00:00:59,820 --> 00:01:04,920
mecánica podemos diferenciar dos partes

24
00:01:02,429 --> 00:01:07,769
principales y el estator que contiene

25
00:01:04,920 --> 00:01:10,439
una serie de bobinas aquí marcadas

26
00:01:07,769 --> 00:01:13,048
los colores y el rotor que consta de un

27
00:01:10,438 --> 00:01:15,029
imán permanente unido al eje que

28
00:01:13,049 --> 00:01:17,368
transmite el movimiento rotatorio del

29
00:01:15,030 --> 00:01:19,649
exterior los cables que salen del motor

30
00:01:17,368 --> 00:01:22,019
corresponden a las bobinas las cuales

31
00:01:19,649 --> 00:01:24,780
deben ser energizadas en una determinada

32
00:01:22,019 --> 00:01:26,640
secuencia para lograr el giro del rotor

33
00:01:24,780 --> 00:01:28,399
en un sentido u otro

34
00:01:26,640 --> 00:01:32,039
el rotor al ser un imán permanente

35
00:01:28,399 --> 00:01:34,859
genera sus aletas marcadas de color rojo

36
00:01:32,039 --> 00:01:36,899
y azul por los magnéticos de manera que

37
00:01:34,859 --> 00:01:39,569
se energiza moss un par de bobinas del

38
00:01:36,899 --> 00:01:42,209
estator lograremos de forma temporal

39
00:01:39,569 --> 00:01:44,969
generar un electroimán y dependiendo de

40
00:01:42,209 --> 00:01:47,429
la ubicación del rotor obtendremos una

41
00:01:44,969 --> 00:01:50,728
fuerza de atracción si los polos son

42
00:01:47,429 --> 00:01:52,319
opuestos o de repulsión si son iguales

43
00:01:50,728 --> 00:01:54,899
este es un motor que se denomina de

44
00:01:52,319 --> 00:01:57,239
cuatro fases ya que tiene cuatro pares

45
00:01:54,899 --> 00:02:01,228
de bobinas las representadas en este

46
00:01:57,239 --> 00:02:03,840
gráfico en colores azul verde rojo y

47
00:02:01,228 --> 00:02:07,078
naranja cada fase tiene bobinas

48
00:02:03,840 --> 00:02:08,939
dispuestas a 180 grados entre sí como

49
00:02:07,078 --> 00:02:11,909
existen motores con diferente cantidad

50
00:02:08,939 --> 00:02:14,159
de fases y construcciones físicas es

51
00:02:11,909 --> 00:02:17,199
conveniente utilizar una

52
00:02:14,159 --> 00:02:19,990
gráfica simplificada como esta de la

53
00:02:17,199 --> 00:02:22,539
derecha el círculo corresponde al rotor

54
00:02:19,990 --> 00:02:25,300
y luego del lado izquierdo tendremos dos

55
00:02:22,539 --> 00:02:28,000
bobinas y en la parte inferior otras dos

56
00:02:25,300 --> 00:02:30,760
más los extremos de cada bobina se unen

57
00:02:28,000 --> 00:02:33,400
para formar un conductor o hilo común

58
00:02:30,759 --> 00:02:36,609
debido a esto hay que este tipo de motor

59
00:02:33,400 --> 00:02:38,890
se lo denomina unipolar existen también

60
00:02:36,610 --> 00:02:41,020
motores paso a paso bipolares que

61
00:02:38,889 --> 00:02:42,879
veremos en un próximo capítulo pero

62
00:02:41,020 --> 00:02:44,980
resulta un poco más complicada la

63
00:02:42,879 --> 00:02:47,650
secuencia que debe aplicarse para su

64
00:02:44,979 --> 00:02:49,899
giro por ese motivo utilizaremos uno

65
00:02:47,650 --> 00:02:51,939
unipolar que es más simple de entender

66
00:02:49,900 --> 00:02:53,739
por el momento entonces lo que tenemos

67
00:02:51,939 --> 00:02:56,469
aquí es un diagrama eléctrico o

68
00:02:53,739 --> 00:02:59,500
esquemático de un motor paso a paso

69
00:02:56,469 --> 00:03:02,169
unipolar de cinco hilos o conductor es

70
00:02:59,500 --> 00:03:04,900
uno de los hilos es el común y luego el

71
00:03:02,169 --> 00:03:08,229
resto se lo denomina con las letras a b

72
00:03:04,900 --> 00:03:10,539
c y d y como veremos en breve a través

73
00:03:08,229 --> 00:03:13,090
de ellos aplicaremos una secuencia

74
00:03:10,539 --> 00:03:15,729
específica para lograr el giro del rotor

75
00:03:13,090 --> 00:03:20,110
veamos las características específicas

76
00:03:15,729 --> 00:03:23,349
del 28-j 48 requiere una atención

77
00:03:20,110 --> 00:03:26,440
de 5 volts de corriente continua como ya

78
00:03:23,349 --> 00:03:29,889
dijimos es de 4 fases y además tiene una

79
00:03:26,439 --> 00:03:32,469
reducción mecánica de 1 en 64 para

80
00:03:29,889 --> 00:03:34,869
entender el sistema de reducción veamos

81
00:03:32,469 --> 00:03:36,879
este gráfico el eje del rotor se

82
00:03:34,870 --> 00:03:38,980
encuentra conectado mediante una serie

83
00:03:36,879 --> 00:03:41,530
de engranajes los cuales sirven para

84
00:03:38,979 --> 00:03:43,840
reducir la velocidad de giro al mismo

85
00:03:41,530 --> 00:03:46,560
tiempo que aumenta el torque o fuerza

86
00:03:43,840 --> 00:03:49,409
del conjunto la reducción de 164

87
00:03:46,560 --> 00:03:53,020
significa que el eje del rotor debe dar

88
00:03:49,409 --> 00:03:56,349
64 vueltas completas o revoluciones para

89
00:03:53,020 --> 00:03:58,060
que el eje externo de una sola vuelta se

90
00:03:56,349 --> 00:04:00,819
puede ver en la foto del motor que

91
00:03:58,060 --> 00:04:02,979
justamente el eje externo no se

92
00:04:00,819 --> 00:04:05,259
encuentra exactamente en el centro del

93
00:04:02,979 --> 00:04:07,929
cab su lado del motor esto es porque en

94
00:04:05,259 --> 00:04:10,090
el medio pero de forma interna se

95
00:04:07,930 --> 00:04:12,280
encuentra el eje del rotor y luego los

96
00:04:10,090 --> 00:04:15,280
engranajes de reducción que terminan

97
00:04:12,280 --> 00:04:17,319
conectando el eje externo el cual es

98
00:04:15,280 --> 00:04:19,569
accesible para nuestro uso

99
00:04:17,319 --> 00:04:21,849
otra característica aquí listada es el

100
00:04:19,569 --> 00:04:24,699
consumo promedio de cada bobina que es

101
00:04:21,850 --> 00:04:25,980
de 40 mil jumper y luego tenemos el dato

102
00:04:24,699 --> 00:04:28,349
de la frecuencia

103
00:04:25,980 --> 00:04:30,629
cima de operación para el paso a paso

104
00:04:28,350 --> 00:04:33,890
deberemos energizar las bobinas en una

105
00:04:30,629 --> 00:04:36,540
determinada secuencia y el rotor no gira

106
00:04:33,889 --> 00:04:39,120
constantemente lo hace solo de pequeños

107
00:04:36,540 --> 00:04:41,670
pasos por eso este valor de frecuencia

108
00:04:39,120 --> 00:04:44,399
máxima de 100 hertz nos indica que la

109
00:04:41,670 --> 00:04:47,490
aplicación de los pulsos a cada bobina

110
00:04:44,399 --> 00:04:50,279
no debe ser menor a 10 milisegundos como

111
00:04:47,490 --> 00:04:52,949
recordarás el periodo de una señal es la

112
00:04:50,279 --> 00:04:56,219
inversa de la frecuencia de achiques y

113
00:04:52,949 --> 00:04:58,860
en hertz se traduce en un período de 10

114
00:04:56,220 --> 00:05:00,870
milisegundos finalmente al esquemático

115
00:04:58,860 --> 00:05:03,030
del motor le indicamos los colores que

116
00:05:00,870 --> 00:05:05,819
el fabricante le asignó a cada una de

117
00:05:03,029 --> 00:05:08,009
las bobinas y al hilo con los cables se

118
00:05:05,819 --> 00:05:10,560
encuentran ya ordenado con su respectivo

119
00:05:08,009 --> 00:05:12,930
conector que coincide perfectamente con

120
00:05:10,560 --> 00:05:16,050
el del módulo controlador hablando del

121
00:05:12,930 --> 00:05:18,329
controlador o driver en inglés veamos un

122
00:05:16,050 --> 00:05:20,400
poco la necesidad del mismo el motor

123
00:05:18,329 --> 00:05:22,859
tiene un consumo de corriente por bobina

124
00:05:20,399 --> 00:05:25,079
es demasiado elevado para conectarlo de

125
00:05:22,860 --> 00:05:27,750
forma directa a un pin digital de

126
00:05:25,079 --> 00:05:29,669
arduino el corazón del controlador es el

127
00:05:27,750 --> 00:05:30,968
circuito integrado modelo

128
00:05:29,670 --> 00:05:33,639
ln

129
00:05:30,968 --> 00:05:37,209
es que nos permitirá mediante sus pines

130
00:05:33,639 --> 00:05:39,788
de entrada en 1 a 4 controlar sus

131
00:05:37,209 --> 00:05:42,189
respectivas salidas que permiten una

132
00:05:39,788 --> 00:05:44,860
gran circulación de corriente de esa

133
00:05:42,189 --> 00:05:47,169
manera desde arduino enviamos niveles

134
00:05:44,860 --> 00:05:49,689
lógicos con muy bajo consumo de

135
00:05:47,168 --> 00:05:51,968
corriente y luego el integrado se

136
00:05:49,689 --> 00:05:53,919
encarga de activar las distintas bobinas

137
00:05:51,968 --> 00:05:57,699
del motor con un suministro de corriente

138
00:05:53,918 --> 00:05:59,918
adecuado el l n 2003 en realidad dispone

139
00:05:57,699 --> 00:06:02,259
de siete líneas de control por este

140
00:05:59,918 --> 00:06:05,019
módulo está pensado para nuestro motor

141
00:06:02,259 --> 00:06:07,269
que es de cinco hilos y uno de ellos es

142
00:06:05,019 --> 00:06:10,629
el común con lo cual sólo tendremos

143
00:06:07,269 --> 00:06:13,179
pines de entrada en uno en cuatro y

144
00:06:10,629 --> 00:06:17,259
salida mediante el conector hacia las

145
00:06:13,178 --> 00:06:19,178
bobinas a b c y d entre cada entrada y

146
00:06:17,259 --> 00:06:23,079
salida verás en esta representación

147
00:06:19,178 --> 00:06:25,088
gráfica un triángulo y luego un pequeño

148
00:06:23,079 --> 00:06:27,848
círculo el triángulo es la

149
00:06:25,088 --> 00:06:30,788
representación de lo que en digitales se

150
00:06:27,848 --> 00:06:33,218
denomina un buffer y el círculo indica

151
00:06:30,788 --> 00:06:36,968
que existe una inversión en el nivel

152
00:06:33,218 --> 00:06:40,149
lógico en pocas palabras si aplicamos un

153
00:06:36,968 --> 00:06:43,718
lógico en un 1 obtendremos sobre la

154
00:06:40,149 --> 00:06:47,288
salida a un serológico 100 en uno

155
00:06:43,718 --> 00:06:50,728
aplicamos 1 serológico en a obtendremos

156
00:06:47,288 --> 00:06:53,468
un 1 lógico siempre el nivel lógico

157
00:06:50,728 --> 00:06:56,558
opuesto es una característica de este

158
00:06:53,468 --> 00:06:58,808
tipo de driver que además es inversor y

159
00:06:56,559 --> 00:07:00,969
si bien puede parecer confuso en

160
00:06:58,809 --> 00:07:03,579
realidad no viene bien que sea de esa

161
00:07:00,968 --> 00:07:06,699
manera resulta que el hilo común del

162
00:07:03,579 --> 00:07:10,059
motor se conecta al positivo de tensión

163
00:07:06,699 --> 00:07:12,218
a veces es el cable de color rojo de

164
00:07:10,059 --> 00:07:15,429
manera que para energizar una bobina

165
00:07:12,218 --> 00:07:17,978
deberemos aplicarle un serológico 0

166
00:07:15,428 --> 00:07:21,188
volts para cerrar el circuito así que

167
00:07:17,978 --> 00:07:24,399
desde arduino enviaremos un nivel alto a

168
00:07:21,189 --> 00:07:28,059
una de las entradas el dl n 2003

169
00:07:24,399 --> 00:07:31,238
invertirá al nivel lógico a 1 bajo y de

170
00:07:28,059 --> 00:07:34,029
esa forma logramos energizar la bobina y

171
00:07:31,238 --> 00:07:37,658
desde el código trabajaremos con lógica

172
00:07:34,028 --> 00:07:39,038
positiva y dejamos al vl n 2003 que

173
00:07:37,658 --> 00:07:41,829
invierta el nivel

174
00:07:39,038 --> 00:07:42,519
el módulo incluye cuatro leds de color

175
00:07:41,829 --> 00:07:45,160
rojo

176
00:07:42,519 --> 00:07:48,370
conectados directamente a las salidas a

177
00:07:45,160 --> 00:07:50,770
b c y d de manera de brindar una

178
00:07:48,370 --> 00:07:52,899
indicación visual de qué salida se

179
00:07:50,769 --> 00:07:55,448
encuentra activa en cada momento es

180
00:07:52,899 --> 00:07:57,429
puramente cosmético y no hace el

181
00:07:55,449 --> 00:07:59,680
funcionamiento del módulo todo el

182
00:07:57,430 --> 00:08:01,990
trabajo importante lo realiza el

183
00:07:59,680 --> 00:08:04,389
circuito integrado para finalizar el

184
00:08:01,990 --> 00:08:06,699
análisis podemos ver que soporta una

185
00:08:04,389 --> 00:08:09,158
corriente de salida de hasta 500 mil

186
00:08:06,699 --> 00:08:11,740
jumper lo cual es más que suficiente

187
00:08:09,158 --> 00:08:15,250
para energizar cada bobina el circuito

188
00:08:11,740 --> 00:08:17,500
interno driver inversor está compuesto

189
00:08:15,250 --> 00:08:20,470
por transistores en configuración

190
00:08:17,500 --> 00:08:23,168
denominada darlington que es una forma

191
00:08:20,470 --> 00:08:25,180
de encadenar dos transistores para

192
00:08:23,168 --> 00:08:27,908
obtener gran cantidad de corriente de

193
00:08:25,180 --> 00:08:30,370
salida con muy poco consumo de entrada

194
00:08:27,908 --> 00:08:33,158
este módulo puede alimentarse tanto con

195
00:08:30,370 --> 00:08:35,528
cinco bolsas como con 12 volts ya que

196
00:08:33,158 --> 00:08:38,559
existe una variante de nuestro modelo de

197
00:08:35,528 --> 00:08:41,320
motor que funciona con 12 volts nosotros

198
00:08:38,559 --> 00:08:44,109
lo usaremos con 5 verás también que

199
00:08:41,320 --> 00:08:46,839
existe un jumper o puente que puede

200
00:08:44,110 --> 00:08:48,120
remover se funciona para habilitar o

201
00:08:46,839 --> 00:08:50,670
deshabilitar el

202
00:08:48,120 --> 00:08:53,639
de manera que simplemente lo dejaremos

203
00:08:50,669 --> 00:08:56,099
conectado como ya viene de fábrica que

204
00:08:53,639 --> 00:08:58,289
dando permanentemente habilitado muy

205
00:08:56,100 --> 00:09:00,870
bien ahora que aprendimos los conceptos

206
00:08:58,289 --> 00:09:03,480
básicos sobre el motor paso a paso y el

207
00:09:00,870 --> 00:09:05,759
módulo controlador vamos al circuito de

208
00:09:03,480 --> 00:09:07,980
conexión mediante cuatro cables

209
00:09:05,759 --> 00:09:10,588
conectaremos arduino con el módulo

210
00:09:07,980 --> 00:09:12,750
controlador utilizaremos un cable

211
00:09:10,589 --> 00:09:16,560
directo para conectar el pin digital

212
00:09:12,750 --> 00:09:20,820
número 8 de arduino con un 1 del módulo

213
00:09:16,559 --> 00:09:26,219
del pin número 9 de arduino a un 2 del

214
00:09:20,820 --> 00:09:28,320
pin 10 ain 3 y del pino 11 a 4 la

215
00:09:26,220 --> 00:09:31,649
alimentación del módulo lo obtendremos

216
00:09:28,320 --> 00:09:33,930
mediante la salida de 5 volts y genere

217
00:09:31,649 --> 00:09:36,059
de arduino y es muy importante que

218
00:09:33,929 --> 00:09:38,819
recuerdes alimentar arduino con una

219
00:09:36,059 --> 00:09:42,359
fuente de alimentación externa de entre

220
00:09:38,820 --> 00:09:44,550
6 y 12 volts de esa manera tendremos una

221
00:09:42,360 --> 00:09:47,610
provisión de corriente adecuada sin

222
00:09:44,549 --> 00:09:50,549
peligro de excederse del consumo que nos

223
00:09:47,610 --> 00:09:52,230
pueda brindar solo la conexión por usb

224
00:09:50,549 --> 00:09:54,689
de la computadora

225
00:09:52,230 --> 00:09:57,629
finalmente conectaremos el motor paso

226
00:09:54,690 --> 00:09:59,760
al módulo mediante el conector de 5

227
00:09:57,629 --> 00:10:02,429
pines que tiene unas guías que

228
00:09:59,759 --> 00:10:04,679
sobresalen de un lado de manera que no

229
00:10:02,429 --> 00:10:07,019
pueda conectarse al revés de todas

230
00:10:04,679 --> 00:10:09,359
maneras aquí se muestra cómo quedan los

231
00:10:07,019 --> 00:10:11,879
colores de los cables y el azul que

232
00:10:09,360 --> 00:10:14,100
corresponde a la salida ácida del lado

233
00:10:11,879 --> 00:10:17,309
izquierdo del conector y del lado

234
00:10:14,100 --> 00:10:20,700
opuesto el cable de color rojo que es el

235
00:10:17,309 --> 00:10:23,519
común y eso es todo para el circuito muy

236
00:10:20,700 --> 00:10:26,100
simple antes de hacer la programación

237
00:10:23,519 --> 00:10:28,649
debemos entender la secuencia necesaria

238
00:10:26,100 --> 00:10:31,529
que debe aplicarse a las bobinas para

239
00:10:28,649 --> 00:10:33,569
lograr el giro del eje como vimos recién

240
00:10:31,529 --> 00:10:37,079
tenemos cuatro cables con las

241
00:10:33,570 --> 00:10:39,330
denominaciones a b c y d que

242
00:10:37,080 --> 00:10:42,210
corresponden a las cuatro fases del

243
00:10:39,330 --> 00:10:45,270
motor la secuencia es muy simple el

244
00:10:42,210 --> 00:10:49,170
primer paso se logra enviando un uno

245
00:10:45,269 --> 00:10:52,949
lógico a la bobina y dejando en cero el

246
00:10:49,169 --> 00:10:56,490
resto luego un uno lógico a la bobina b

247
00:10:52,950 --> 00:10:59,160
luego a la bobina c y finalmente a la

248
00:10:56,490 --> 00:10:59,909
bobina d es decir que enviamos un nivel

249
00:10:59,159 --> 00:11:04,679
alto

250
00:10:59,909 --> 00:11:07,019
a cada bobina en el orden a b c d para

251
00:11:04,679 --> 00:11:09,179
que quede claro el concepto vemos de

252
00:11:07,019 --> 00:11:11,639
forma gráfica qué es lo que sucede en

253
00:11:09,179 --> 00:11:14,009
cada paso comenzando con la imagen de la

254
00:11:11,639 --> 00:11:16,470
izquierda vemos que tenemos representado

255
00:11:14,009 --> 00:11:18,840
el estator como si fueran solo cuatro

256
00:11:16,470 --> 00:11:21,930
bobinas ya vimos al principio que en

257
00:11:18,840 --> 00:11:24,360
realidad el estator tiene ocho bobinas

258
00:11:21,929 --> 00:11:27,149
pero la idea aquí es quedarse con el

259
00:11:24,360 --> 00:11:30,090
concepto básico y por eso utilizaremos

260
00:11:27,149 --> 00:11:32,909
esta versión simplificada el rotor es el

261
00:11:30,090 --> 00:11:35,430
círculo en el centro con una flecha en

262
00:11:32,909 --> 00:11:37,799
este caso apuntando hacia arriba la idea

263
00:11:35,429 --> 00:11:40,500
de la flecha es que sirva de referencia

264
00:11:37,799 --> 00:11:42,629
de cómo irá girando el rotor a medida

265
00:11:40,500 --> 00:11:45,690
que se van energizando las distintas

266
00:11:42,629 --> 00:11:48,450
bobinas en el paso 1 según la tabla de

267
00:11:45,690 --> 00:11:49,200
arriba enviamos un uno lógico a la

268
00:11:48,450 --> 00:11:52,020
bobina

269
00:11:49,200 --> 00:11:54,360
es decir que energiza mos dicha bobina y

270
00:11:52,019 --> 00:11:55,139
le representamos en el gráfico con color

271
00:11:54,360 --> 00:11:57,600
rojo

272
00:11:55,139 --> 00:12:00,330
entonces si por la bobina circula

273
00:11:57,600 --> 00:12:03,090
corriente se genera un campo magnético

274
00:12:00,330 --> 00:12:04,499
que hace que el rotor apunte hacia

275
00:12:03,090 --> 00:12:06,899
arriba como

276
00:12:04,499 --> 00:12:09,389
la flecha si ahora vamos al paso 2

277
00:12:06,899 --> 00:12:11,729
energiza mos la bobina ve queda

278
00:12:09,389 --> 00:12:14,548
claramente indicado con el color rojo

279
00:12:11,729 --> 00:12:18,028
sobre dicha bobina entonces el rotor

280
00:12:14,548 --> 00:12:20,548
girará 90 grados en sentido horario y la

281
00:12:18,028 --> 00:12:23,519
flecha indicadora pasa a puntadas de

282
00:12:20,548 --> 00:12:26,369
forma directa a la bobina b ya podremos

283
00:12:23,519 --> 00:12:29,219
ir observando como logramos el giro del

284
00:12:26,369 --> 00:12:33,298
rotor al energizar primero la bobina

285
00:12:29,219 --> 00:12:36,149
y luego la ve los pasos 3 y 4 hacen lo

286
00:12:33,298 --> 00:12:39,178
esperable al energizar la bobina c

287
00:12:36,149 --> 00:12:42,028
el rotor girará apuntando a dicha bobina

288
00:12:39,178 --> 00:12:45,028
y ya logramos un giro de 180 grados

289
00:12:42,028 --> 00:12:48,298
respecto del inicio finalmente en el

290
00:12:45,028 --> 00:12:51,178
paso 4 al energizar la bobina ve el

291
00:12:48,298 --> 00:12:53,608
rotor girará nuevamente quedando de esta

292
00:12:51,178 --> 00:12:56,389
manera luego se repetirá el ciclo

293
00:12:53,609 --> 00:12:58,949
energizando nuevamente la bobina a

294
00:12:56,389 --> 00:13:02,038
existe un total de tres formas distintas

295
00:12:58,948 --> 00:13:04,858
de energizar las bobinas para lograr el

296
00:13:02,038 --> 00:13:07,889
giro del rotor esta que vimos es la más

297
00:13:04,859 --> 00:13:10,620
simple y se la denomina de paso completo

298
00:13:07,889 --> 00:13:13,409
simple también llamado

299
00:13:10,620 --> 00:13:16,110
driver ya que energiza moss de una

300
00:13:13,409 --> 00:13:18,000
bobina a la vez la otra forma es la

301
00:13:16,110 --> 00:13:20,220
mostrada en esta tabla y es la

302
00:13:18,000 --> 00:13:22,350
recomendada por el fabricante del motor

303
00:13:20,220 --> 00:13:25,649
ya que es la que permite el máximo

304
00:13:22,350 --> 00:13:28,500
torque o fuerza se energizar han siempre

305
00:13:25,649 --> 00:13:31,110
dos bobinas al mismo tiempo también se

306
00:13:28,500 --> 00:13:33,990
la denomina de paso completo pero con

307
00:13:31,110 --> 00:13:37,379
dos bobinas la idea es que el energizar

308
00:13:33,990 --> 00:13:39,990
las bobinas a ive en simultáneo el campo

309
00:13:37,379 --> 00:13:42,990
magnético que generan ambas hace que el

310
00:13:39,990 --> 00:13:45,690
rotor queda apuntando justo entre medio

311
00:13:42,990 --> 00:13:49,139
de ambas bobinas como ambas generan un

312
00:13:45,690 --> 00:13:50,370
campo magnético igual pero con 90 grados

313
00:13:49,139 --> 00:13:52,830
de diferencia

314
00:13:50,370 --> 00:13:56,070
el rotor se sitúa justo entre las mismas

315
00:13:52,830 --> 00:13:58,440
y con una gran fuerza el paso número 2

316
00:13:56,070 --> 00:14:01,560
entonces constará simplemente en

317
00:13:58,440 --> 00:14:05,760
energizar b y c y en la tabla se

318
00:14:01,559 --> 00:14:08,129
representa con uno lógico en b y en c y

319
00:14:05,759 --> 00:14:10,860
en el gráfico como siempre dichas

320
00:14:08,129 --> 00:14:13,740
bobinas se marcan de color rojo y el

321
00:14:10,860 --> 00:14:16,680
rotor se mueve nuevamente a esta

322
00:14:13,740 --> 00:14:17,220
posición intermedia es básicamente como

323
00:14:16,679 --> 00:14:19,919
la seco

324
00:14:17,220 --> 00:14:22,829
que vimos antes pero que energiza dos

325
00:14:19,919 --> 00:14:26,000
bobinas en simultáneo obteniendo un

326
00:14:22,828 --> 00:14:31,349
torque máximo finalmente para el paso 3

327
00:14:26,000 --> 00:14:33,679
energizan c y d y para el paso 4 de guía

328
00:14:31,350 --> 00:14:36,810
para luego comenzar desde el principio

329
00:14:33,679 --> 00:14:38,938
lo importante son las tablas que vimos

330
00:14:36,809 --> 00:14:41,458
con los niveles lógicos que deben

331
00:14:38,938 --> 00:14:43,980
aplicarse para cada bobina ya cuando

332
00:14:41,458 --> 00:14:46,768
hagamos la programación repasaremos las

333
00:14:43,980 --> 00:14:49,740
tablas pero existe una tercera opción de

334
00:14:46,769 --> 00:14:52,889
secuencia y es la denominada de medio

335
00:14:49,740 --> 00:14:55,980
paso en este caso tendremos un total de

336
00:14:52,889 --> 00:14:58,110
ocho pasos para completar el ciclo el

337
00:14:55,980 --> 00:15:00,959
doble de los que necesitábamos hasta

338
00:14:58,110 --> 00:15:03,419
ahora y esto permite que el rotor gire

339
00:15:00,958 --> 00:15:06,628
con un ángulo menor obteniendo mayor

340
00:15:03,419 --> 00:15:09,659
precisión la secuencia es muy intuitiva

341
00:15:06,629 --> 00:15:12,839
y se deriva de las dos que ya vimos el

342
00:15:09,659 --> 00:15:16,379
primer paso es energizar y luego el

343
00:15:12,839 --> 00:15:19,829
segundo paso es energizar a ive en

344
00:15:16,379 --> 00:15:22,920
simultáneo eso gire el rotor a 45 grados

345
00:15:19,828 --> 00:15:26,519
en el paso 3 energiza solo

346
00:15:22,919 --> 00:15:30,179
un ave que gira el rotor otros 45 grados

347
00:15:26,519 --> 00:15:33,659
de esa manera energizando una bobina y

348
00:15:30,179 --> 00:15:36,659
luego dos bobinas se logra el medio paso

349
00:15:33,659 --> 00:15:40,439
que lleva de nombre esta secuencia así

350
00:15:36,659 --> 00:15:49,588
que lo repasaremos rápidamente será a y

351
00:15:40,440 --> 00:15:51,990
ave luego de ibc ce y cede de idea y ya

352
00:15:49,589 --> 00:15:54,690
con eso tenemos las tres posibles formas

353
00:15:51,990 --> 00:15:57,269
de aplicar la secuencia para el giro del

354
00:15:54,690 --> 00:15:59,160
rotor que ya sabemos que luego de una

355
00:15:57,269 --> 00:16:01,560
serie de engranajes de reducción

356
00:15:59,159 --> 00:16:03,838
terminará por hacer girar el eje

357
00:16:01,559 --> 00:16:06,689
exterior accesible para nuestro uso

358
00:16:03,839 --> 00:16:08,339
ahora para la práctica haremos varios

359
00:16:06,690 --> 00:16:10,709
programas para verificar el

360
00:16:08,339 --> 00:16:13,079
funcionamiento del motor para cada uno

361
00:16:10,708 --> 00:16:16,828
de los tipos de secuencia declaramos las

362
00:16:13,078 --> 00:16:19,888
variables en uno en dos en tres en

363
00:16:16,828 --> 00:16:22,109
cuatro y descargamos los pines digitales

364
00:16:19,889 --> 00:16:24,629
a los cuales tenemos conectadas las

365
00:16:22,110 --> 00:16:27,389
entradas del módulo controlador que son

366
00:16:24,629 --> 00:16:30,360
los pines 8 9 10

367
00:16:27,389 --> 00:16:33,509
y 11 luego declaramos la variable de

368
00:16:30,360 --> 00:16:37,169
demora y le cargamos un valor de 20 es

369
00:16:33,509 --> 00:16:40,289
decir una demora entre paso y paso de 20

370
00:16:37,169 --> 00:16:43,229
milisegundos como vimos antes existe una

371
00:16:40,289 --> 00:16:45,480
frecuencia máxima de operación un tiempo

372
00:16:43,230 --> 00:16:48,180
mínimo que debe dejarse para que se

373
00:16:45,480 --> 00:16:51,180
energiza y la bobina y el movimiento

374
00:16:48,179 --> 00:16:53,549
físico del rotor a su posición el tiempo

375
00:16:51,179 --> 00:16:56,029
mínimo no debe ser menor a 10

376
00:16:53,549 --> 00:16:59,219
milisegundos por eso para este programa

377
00:16:56,029 --> 00:17:02,009
utilizaremos 20 milisegundos para no

378
00:16:59,220 --> 00:17:04,650
trabajar al límite la demora entre pasos

379
00:17:02,009 --> 00:17:07,440
la declaramos como variable de forma que

380
00:17:04,650 --> 00:17:10,140
sea fácilmente modificable en un solo

381
00:17:07,440 --> 00:17:12,828
lugar y se aplique en todas partes en el

382
00:17:10,140 --> 00:17:15,870
setup simplemente con ping mode o

383
00:17:12,828 --> 00:17:17,909
establecemos a los pines digitales como

384
00:17:15,869 --> 00:17:20,309
salida la idea de este primer programa

385
00:17:17,910 --> 00:17:23,759
es utilizar la secuencia de paso

386
00:17:20,309 --> 00:17:26,190
completo simple que energiza de una sola

387
00:17:23,759 --> 00:17:28,349
bobina por vez por eso traerá la

388
00:17:26,190 --> 00:17:30,509
pantalla a la tabla que vimos de este

389
00:17:28,349 --> 00:17:33,809
tipo de secuencia para aplicar en la

390
00:17:30,509 --> 00:17:34,558
programación en este bloque de 4 digital

391
00:17:33,809 --> 00:17:37,740
un ait

392
00:17:34,558 --> 00:17:40,408
corresponden al paso número 1 si bien en

393
00:17:37,740 --> 00:17:43,079
la tabla tenemos que cada columna tiene

394
00:17:40,409 --> 00:17:46,019
las letras a b c y d

395
00:17:43,079 --> 00:17:48,148
ya sabemos que esa es la denominación

396
00:17:46,019 --> 00:17:50,638
que tienen los pines de salida del

397
00:17:48,148 --> 00:17:54,209
módulo del controlador los pines de

398
00:17:50,638 --> 00:17:57,209
entrada son en uno en dos en tres en

399
00:17:54,210 --> 00:18:01,950
cuatro con lo cual si vemos a es lo

400
00:17:57,210 --> 00:18:04,649
mismo que en uno ve es en dos y así para

401
00:18:01,950 --> 00:18:07,319
el primer paso debemos enviar un uno

402
00:18:04,648 --> 00:18:08,308
lógico o lo que es lo mismo un nivel

403
00:18:07,319 --> 00:18:12,359
alto

404
00:18:08,308 --> 00:18:15,898
que para nosotros es en uno y el resto

405
00:18:12,359 --> 00:18:18,058
con serológico o niveles bajos y eso es

406
00:18:15,898 --> 00:18:21,298
lo que hacemos de manera muy simple con

407
00:18:18,058 --> 00:18:25,499
los digital raid enviando un nivel alto

408
00:18:21,298 --> 00:18:28,859
a uno y luego en dos en tres en cuatro

409
00:18:25,499 --> 00:18:31,379
con niveles bajos luego debemos aplicar

410
00:18:28,859 --> 00:18:34,109
la demora antes de enviar los cambios

411
00:18:31,378 --> 00:18:37,618
para el próximo paso con delay entre

412
00:18:34,109 --> 00:18:39,269
paréntesis demora es decir una demora de

413
00:18:37,618 --> 00:18:42,179
20 milisegundos

414
00:18:39,269 --> 00:18:45,599
el paso 2 es la misma tarea sólo que

415
00:18:42,180 --> 00:18:48,450
ahora in 2 deberá tener un nivel alto y

416
00:18:45,599 --> 00:18:51,809
el resto con un nivel bajo y nuevamente

417
00:18:48,450 --> 00:18:54,420
la demora para el paso 3 y 4 la misma

418
00:18:51,809 --> 00:18:57,539
metodología tomando como referencia la

419
00:18:54,420 --> 00:19:01,320
tabla para el paso 3 debemos enviar un

420
00:18:57,539 --> 00:19:05,009
nivel alto a interés para el paso 4 el

421
00:19:01,319 --> 00:19:08,039
nivel alto irá para in 4 algo que no

422
00:19:05,009 --> 00:19:11,730
dijimos antes y para no complicar es el

423
00:19:08,039 --> 00:19:14,849
hecho de que enviar los 4 pasos no hace

424
00:19:11,730 --> 00:19:16,349
que el rotor gire una vuelta completa si

425
00:19:14,849 --> 00:19:20,039
bien en los gráficos de las bobinas

426
00:19:16,349 --> 00:19:22,740
teníamos 4 dispuestas a 90 grados entre

427
00:19:20,039 --> 00:19:25,319
sí decíamos también que era solo para

428
00:19:22,740 --> 00:19:28,230
simplificar en realidad para que el

429
00:19:25,319 --> 00:19:30,779
rotor gire una vuelta completa debemos

430
00:19:28,230 --> 00:19:33,779
repetir la secuencia de cuatro pasos

431
00:19:30,779 --> 00:19:36,000
ocho veces aquí se encuentran resumidos

432
00:19:33,779 --> 00:19:39,089
los datos a tener en cuenta para este

433
00:19:36,000 --> 00:19:42,180
motor a los cuatro pasos se los denomina

434
00:19:39,089 --> 00:19:45,059
un ciclo para que el rotor gire una vez

435
00:19:42,180 --> 00:19:45,750
se requiere de ocho ciclos pero además

436
00:19:45,059 --> 00:19:48,089
hay que

437
00:19:45,750 --> 00:19:51,480
en cuenta que el motor tiene una

438
00:19:48,089 --> 00:19:55,009
reducción mecánica por engranajes de 1

439
00:19:51,480 --> 00:19:58,160
en 64 con lo cual un giro completo o

440
00:19:55,009 --> 00:20:00,359
revolución del eje exterior requiere de

441
00:19:58,160 --> 00:20:02,519
64 vueltas del rotor

442
00:20:00,359 --> 00:20:05,879
en definitiva llegamos a la conclusión

443
00:20:02,519 --> 00:20:08,910
que si multiplicamos los 4 pasos por 8

444
00:20:05,880 --> 00:20:12,000
ciclos y luego por 64 que es la

445
00:20:08,910 --> 00:20:14,910
reducción tenemos como resultado un giro

446
00:20:12,000 --> 00:20:17,880
completo del eje exterior requiere de un

447
00:20:14,910 --> 00:20:19,920
total de 2048 pasos

448
00:20:17,880 --> 00:20:22,350
espero no haberte mareado con tantos

449
00:20:19,920 --> 00:20:25,890
números lo importante es que nos

450
00:20:22,349 --> 00:20:28,289
quedemos con el valor de 2048 pasos para

451
00:20:25,890 --> 00:20:29,850
un giro completo simplemente podría

452
00:20:28,289 --> 00:20:33,750
haberse mencionado que este motor

453
00:20:29,849 --> 00:20:36,269
requiere de 2048 pasos para dar un giro

454
00:20:33,750 --> 00:20:38,970
completo pero me parece que vale la pena

455
00:20:36,269 --> 00:20:41,309
el tiempo destinado para entender de

456
00:20:38,970 --> 00:20:43,350
dónde sale dicho el número todo esto

457
00:20:41,309 --> 00:20:45,779
viene a cuento por el hecho de que en

458
00:20:43,349 --> 00:20:47,879
nuestro programa de práctica vamos a

459
00:20:45,779 --> 00:20:50,639
hacer que el motor gire una vuelta

460
00:20:47,880 --> 00:20:52,440
completa y para eso necesitamos saber

461
00:20:50,640 --> 00:20:54,960
cuántos pasos se requieren

462
00:20:52,440 --> 00:20:57,690
con todo este bloque de digital raid

463
00:20:54,960 --> 00:21:00,090
aplicamos cuatro pasos pero debemos

464
00:20:57,690 --> 00:21:03,779
repetir dichos pasos para llegar a un

465
00:21:00,089 --> 00:21:07,619
total de 2048 por eso tenemos este bucle

466
00:21:03,779 --> 00:21:13,680
for que repite los cuatro pasos 512

467
00:21:07,619 --> 00:21:16,349
veces ya que 512 x 4 da justamente 2048

468
00:21:13,680 --> 00:21:19,350
para finalizar el programa vamos a

469
00:21:16,349 --> 00:21:21,769
detener el motor por 5 segundos antes de

470
00:21:19,349 --> 00:21:24,809
que vuelva a ejecutarse todo nuevamente

471
00:21:21,769 --> 00:21:27,450
simplemente con estos 4 digital raid

472
00:21:24,809 --> 00:21:31,609
enviamos un nivel bajo a todas las

473
00:21:27,450 --> 00:21:34,890
entradas en 1 en 4 de manera de

474
00:21:31,609 --> 00:21:38,399
desenergizar las bobinas y una demora de

475
00:21:34,890 --> 00:21:41,520
5 segundos muy bien vamos entonces a

476
00:21:38,400 --> 00:21:44,130
verificar y subir el programa récord a

477
00:21:41,519 --> 00:21:47,369
alimentar arduino con la fuente externa

478
00:21:44,130 --> 00:21:50,640
y veamos cómo funciona todo el giro del

479
00:21:47,369 --> 00:21:53,369
eje exterior es casi imperceptible por

480
00:21:50,640 --> 00:21:56,759
eso es conveniente adherirle un trozo de

481
00:21:53,369 --> 00:21:57,899
cinta sobre la cara plana del eje de

482
00:21:56,759 --> 00:22:01,079
manera de hacer

483
00:21:57,900 --> 00:22:03,840
y la rotación verás también cómo se

484
00:22:01,079 --> 00:22:07,019
encienden muy rápidamente los leds del

485
00:22:03,839 --> 00:22:10,199
módulo cada leds se enciende por 20

486
00:22:07,019 --> 00:22:13,019
milisegundos en secuencia el eje tardará

487
00:22:10,200 --> 00:22:16,380
unos 41 segundos en dar la vuelta

488
00:22:13,019 --> 00:22:19,740
completa y se detendrá por 5 segundos

489
00:22:16,380 --> 00:22:21,840
para luego comenzar nuevamente los 41

490
00:22:19,740 --> 00:22:25,140
segundos salen del hecho de que cada

491
00:22:21,839 --> 00:22:30,059
paso demora 20 milisegundos con lo cual

492
00:22:25,140 --> 00:22:33,000
20 milisegundos por 2048 pasos nos da 4

493
00:22:30,059 --> 00:22:35,700
mil 96 milisegundos podrás también

494
00:22:33,000 --> 00:22:37,980
verificar tocando el motor como se

495
00:22:35,700 --> 00:22:40,950
sienten las pequeñas vibraciones que se

496
00:22:37,980 --> 00:22:43,710
producen con cada paso genial nuestro

497
00:22:40,950 --> 00:22:47,850
motor dio signos de vida y verificamos

498
00:22:43,710 --> 00:22:50,400
que con 2048 pasos exactos logramos un

499
00:22:47,849 --> 00:22:54,389
giro completo y esto lo hace de forma

500
00:22:50,400 --> 00:22:57,300
predecible una y otra vez y esa es una

501
00:22:54,390 --> 00:23:00,120
característica de los paso a paso vamos

502
00:22:57,299 --> 00:23:02,250
a optimizar un poco este código que nos

503
00:23:00,119 --> 00:23:04,428
rendirá frutos para los próximos

504
00:23:02,250 --> 00:23:07,339
programas todos estos dígitos

505
00:23:04,429 --> 00:23:09,769
white son muy parecidos y ocupan mucho

506
00:23:07,339 --> 00:23:12,829
espacio debemos utilizar una herramienta

507
00:23:09,769 --> 00:23:15,230
que nos permita con menos líneas lograr

508
00:23:12,829 --> 00:23:17,658
el mismo resultado por suerte la

509
00:23:15,230 --> 00:23:21,349
solución viene de la mano de la matriz

510
00:23:17,659 --> 00:23:24,139
también llamado array bidimensional

511
00:23:21,349 --> 00:23:26,569
la idea es cargar en la matriz la tabla

512
00:23:24,138 --> 00:23:29,898
con la secuencia de los pasos y luego

513
00:23:26,569 --> 00:23:32,240
con un simple bucle for ir recorriendo

514
00:23:29,898 --> 00:23:35,329
la matriz y aplicar los niveles lógicos

515
00:23:32,240 --> 00:23:37,940
que correspondan para cada paso una

516
00:23:35,329 --> 00:23:41,599
matriz se define con un nombre en

517
00:23:37,940 --> 00:23:44,509
nuestro caso la llamaremos paso y luego

518
00:23:41,599 --> 00:23:47,599
entre corchetes definimos la cantidad de

519
00:23:44,509 --> 00:23:50,450
filas y con otro par de corchetes la

520
00:23:47,599 --> 00:23:53,538
cantidad de columnas nuestra tabla tiene

521
00:23:50,450 --> 00:23:56,179
cuatro filas por cuatro columnas con lo

522
00:23:53,538 --> 00:23:59,470
cual la definición de la matriz vida de

523
00:23:56,179 --> 00:24:02,749
esta manera el array convencional el

524
00:23:59,470 --> 00:24:06,048
unidimensional lo vimos en el capítulo 9

525
00:24:02,749 --> 00:24:08,690
con el teclado de membrana de 4 x 4 lo

526
00:24:06,048 --> 00:24:11,359
utilizamos para almacenar de a 1 los

527
00:24:08,690 --> 00:24:14,120
dígitos ingresados por el teclado

528
00:24:11,359 --> 00:24:18,169
comparar con una clave maestra aquí el

529
00:24:14,119 --> 00:24:21,019
array es bidimensional y tendremos filas

530
00:24:18,170 --> 00:24:23,090
y columnas la idea de la raíz es que

531
00:24:21,019 --> 00:24:26,089
accedemos a la información que se

532
00:24:23,089 --> 00:24:29,389
encuentra en cada posición mediante un

533
00:24:26,089 --> 00:24:32,119
índice el índice siempre comienza desde

534
00:24:29,390 --> 00:24:34,790
cero aquí sobre la tabla con los pasos

535
00:24:32,119 --> 00:24:37,609
que ya implementamos con los digital un

536
00:24:34,789 --> 00:24:41,210
raid tenemos de forma horizontal las

537
00:24:37,609 --> 00:24:44,209
filas enumeradas de 0 a 3 y de forma

538
00:24:41,210 --> 00:24:47,419
vertical las columnas también enumeradas

539
00:24:44,210 --> 00:24:49,910
de 0 a 3 voy a pegar en el código la

540
00:24:47,419 --> 00:24:52,580
definición de la matriz y los datos de

541
00:24:49,910 --> 00:24:55,220
la tabla para ahorrar tiempo se puede

542
00:24:52,579 --> 00:24:58,099
ver a simple vista la similitud con la

543
00:24:55,220 --> 00:25:01,279
tabla de la secuencia de paso completo

544
00:24:58,099 --> 00:25:04,129
simple y esa es la idea que sea

545
00:25:01,279 --> 00:25:07,339
fácilmente identificable de un solo

546
00:25:04,130 --> 00:25:10,010
vistazo y tendremos la posibilidad por

547
00:25:07,339 --> 00:25:12,980
programación de poder ir recorriendo la

548
00:25:10,009 --> 00:25:15,500
matriz con un simple bucle y ahorrar

549
00:25:12,980 --> 00:25:18,289
tiempo recordad que el código de todos

550
00:25:15,500 --> 00:25:20,690
los programas vistos en el capítulo

551
00:25:18,289 --> 00:25:22,639
disponibles para descargar desde el

552
00:25:20,690 --> 00:25:25,640
enlace que dejó en la zona de

553
00:25:22,640 --> 00:25:29,810
descripción entonces ya tenemos definida

554
00:25:25,640 --> 00:25:32,570
una matriz de 4x4 llamada paso ahora

555
00:25:29,809 --> 00:25:35,450
implementaremos su uso de la siguiente

556
00:25:32,569 --> 00:25:39,079
manera vamos a dejar el bucle for que

557
00:25:35,450 --> 00:25:41,480
repite 512 veces y eliminemos todo el

558
00:25:39,079 --> 00:25:43,659
código por dentro de sus llaves y lo

559
00:25:41,480 --> 00:25:47,269
reemplazaremos por estas pocas líneas

560
00:25:43,660 --> 00:25:50,570
este bucle foro lo que hará es recorrer

561
00:25:47,269 --> 00:25:53,150
la matriz de alguna fila por vez en el

562
00:25:50,569 --> 00:25:57,619
primer digital right en vez de colocar

563
00:25:53,150 --> 00:26:00,440
un valor fijo high o lo colocaremos el

564
00:25:57,619 --> 00:26:03,169
resultado que nos devuelva la matriz en

565
00:26:00,440 --> 00:26:05,900
una determinada posición la primera vez

566
00:26:03,170 --> 00:26:09,320
que se ejecuta el programa la variable y

567
00:26:05,900 --> 00:26:12,019
tendrá un valor de 0 con lo cual estamos

568
00:26:09,319 --> 00:26:16,279
diciendo que queremos obtener el valor

569
00:26:12,019 --> 00:26:17,839
de la fila 0 y columna 0 si vemos la

570
00:26:16,279 --> 00:26:21,740
tabla en cero

571
00:26:17,839 --> 00:26:26,058
pero vemos un valor de 1 con lo cual con

572
00:26:21,740 --> 00:26:29,269
el digital write en el 1 enviaremos un 1

573
00:26:26,058 --> 00:26:32,000
lógico que es lo mismo que high en la

574
00:26:29,269 --> 00:26:35,240
siguiente línea obtenemos el valor de la

575
00:26:32,000 --> 00:26:39,169
matriz en la posición de fila 0 y

576
00:26:35,240 --> 00:26:42,798
columna 1 el valor es 0 con lo cual el

577
00:26:39,169 --> 00:26:46,460
digital right escribirá en un 2 un valor

578
00:26:42,798 --> 00:26:51,829
de 0 o lou como verás interés en la

579
00:26:46,460 --> 00:26:55,669
posición 0 2 es un 0 en 4 en la posición

580
00:26:51,829 --> 00:26:58,908
0 3 también es 0 lo que logramos es el

581
00:26:55,669 --> 00:27:02,720
primer paso donde in 1 tiene un valor de

582
00:26:58,909 --> 00:27:05,570
1 y el resto todo en 0 lo interesante de

583
00:27:02,720 --> 00:27:08,120
esta forma es que luego de la demora el

584
00:27:05,569 --> 00:27:11,990
bucle for incrementará el valor de la

585
00:27:08,119 --> 00:27:15,019
variable y y ahora pasa a valer 1 con lo

586
00:27:11,990 --> 00:27:17,740
cual y estamos sobre la segunda fila que

587
00:27:15,019 --> 00:27:20,538
corresponde al paso 2 y nuevamente

588
00:27:17,740 --> 00:27:23,839
obtendremos los valores que correspondan

589
00:27:20,538 --> 00:27:24,470
a dicho paso de esta forma automatizamos

590
00:27:23,839 --> 00:27:26,538
la

591
00:27:24,470 --> 00:27:29,509
lectura de todos los valores de la tabla

592
00:27:26,538 --> 00:27:32,450
que cargamos previamente en la matriz y

593
00:27:29,509 --> 00:27:35,240
con muy pocas líneas logramos lo mismo

594
00:27:32,450 --> 00:27:37,850
que antes podríamos subir este programa

595
00:27:35,240 --> 00:27:40,730
y veríamos que hace exactamente lo mismo

596
00:27:37,849 --> 00:27:43,759
que la anterior pero ahora tenemos un

597
00:27:40,730 --> 00:27:46,429
código más optimizado y también muy

598
00:27:43,759 --> 00:27:49,308
fácil de entender a simple vista el

599
00:27:46,429 --> 00:27:51,950
poder de este formato es que ahora vamos

600
00:27:49,308 --> 00:27:55,129
a aplicar la secuencia de paso completo

601
00:27:51,950 --> 00:27:58,220
con dos bobinas la tabla a utilizar es

602
00:27:55,130 --> 00:28:00,620
la siguiente de manera muy simple iremos

603
00:27:58,220 --> 00:28:03,169
al programa y en la definición de la

604
00:28:00,619 --> 00:28:05,989
matriz cargaremos los valores de esta

605
00:28:03,169 --> 00:28:08,960
nueva tabla de forma de energizar de a

606
00:28:05,990 --> 00:28:11,990
dos bobinas al mismo tiempo luego el

607
00:28:08,960 --> 00:28:14,779
programa no requiere de ningún cambio y

608
00:28:11,990 --> 00:28:17,659
así se puede apreciar como el trabajo

609
00:28:14,779 --> 00:28:20,599
que nos tomamos antes tiene sus frutos

610
00:28:17,659 --> 00:28:23,150
una leve modificación ya nos permite

611
00:28:20,599 --> 00:28:25,939
cambiar el tipo de secuencia de pasos

612
00:28:23,150 --> 00:28:28,909
podrás verificar y subir el programa

613
00:28:25,940 --> 00:28:30,140
verás que al igual que antes el eje del

614
00:28:28,909 --> 00:28:33,200
motor

615
00:28:30,140 --> 00:28:36,350
a una vuelta completa pero esta vez con

616
00:28:33,200 --> 00:28:39,380
su máximo torque al energizar dos

617
00:28:36,349 --> 00:28:42,199
bobinas en vez de una visualmente será

618
00:28:39,380 --> 00:28:45,080
lo mismo pero el movimiento es un poco

619
00:28:42,200 --> 00:28:47,059
más suave eso lo dejo en tus manos para

620
00:28:45,079 --> 00:28:49,549
que lo pruebes no tiene sentido

621
00:28:47,059 --> 00:28:52,789
mostrarlo en cámara ya que no se percibe

622
00:28:49,549 --> 00:28:55,190
una diferencia ya para ir finalizando el

623
00:28:52,789 --> 00:28:57,740
capítulo que se está haciendo algo largo

624
00:28:55,190 --> 00:29:01,070
quiero que veas cómo es muy fácil

625
00:28:57,740 --> 00:29:03,230
aplicar la secuencia de medio paso en

626
00:29:01,069 --> 00:29:06,019
pantalla tenemos la tabla con la

627
00:29:03,230 --> 00:29:09,319
secuencia de medio paso que requiere de

628
00:29:06,019 --> 00:29:12,079
ocho pasos para completar el ciclo al

629
00:29:09,319 --> 00:29:14,990
igual que antes hacemos el cálculo de

630
00:29:12,079 --> 00:29:18,319
cuántos pasos se requerirán para dar una

631
00:29:14,990 --> 00:29:22,220
vuelta completa del eje exterior y será

632
00:29:18,319 --> 00:29:25,220
de 4.096 el doble que para el caso de

633
00:29:22,220 --> 00:29:28,009
paso completo lo cual es correcto ya que

634
00:29:25,220 --> 00:29:30,470
tenemos pasos intermedios modificar el

635
00:29:28,009 --> 00:29:32,599
código para la secuencia de medio paso

636
00:29:30,470 --> 00:29:36,558
es muy simple sólo es cuestión de

637
00:29:32,599 --> 00:29:39,168
definir la matriz pero esta vez de 8 x 4

638
00:29:36,558 --> 00:29:41,480
ya que tendremos ocho filas en vez de

639
00:29:39,169 --> 00:29:44,389
cuatro y cargar los valores de la tabla

640
00:29:41,480 --> 00:29:47,929
en el bucle for tendremos que cambiar la

641
00:29:44,388 --> 00:29:51,349
condición de i menor a cuatro por y

642
00:29:47,929 --> 00:29:54,288
menor a ocho para que ahora recorra la

643
00:29:51,349 --> 00:29:56,748
totalidad de las ocho filas y listo

644
00:29:54,288 --> 00:29:59,388
nuevamente el hecho de usar la matriz

645
00:29:56,749 --> 00:30:01,700
nos permite muy rápidamente cambiar el

646
00:29:59,388 --> 00:30:04,248
tipo de paso que queremos aplicar al

647
00:30:01,700 --> 00:30:07,548
motor vamos a actualizar el comentario

648
00:30:04,249 --> 00:30:12,798
del bucle for de 512 ya que ahora será

649
00:30:07,548 --> 00:30:15,440
de 512 x 8 que nos da 4 mil 96 pasos si

650
00:30:12,798 --> 00:30:18,888
antes el motor requería de 41 segundos

651
00:30:15,440 --> 00:30:22,220
para completar la vuelta ahora serán 82

652
00:30:18,888 --> 00:30:25,189
segundos exactamente el doble ahora sí

653
00:30:22,220 --> 00:30:27,889
vamos a verificar y subir el programa

654
00:30:25,190 --> 00:30:30,980
podrás notar que el giro del eje es muy

655
00:30:27,888 --> 00:30:33,888
lento pero extremadamente suave por la

656
00:30:30,980 --> 00:30:35,899
secuencia de medio paso prácticamente no

657
00:30:33,888 --> 00:30:38,868
es posible determinar mediante las

658
00:30:35,898 --> 00:30:40,878
vibraciones que se están dando pasos de

659
00:30:38,868 --> 00:30:42,699
esta manera es que se logra la máxima

660
00:30:40,878 --> 00:30:46,129
precisión con

661
00:30:42,700 --> 00:30:49,490
intermedio ya que en un paso energiza

662
00:30:46,130 --> 00:30:53,240
mos una bobina y en otro paso energiza

663
00:30:49,490 --> 00:30:55,849
mos dos bobinas y así sucesivamente con

664
00:30:53,240 --> 00:30:58,279
estos programas verificamos el correcto

665
00:30:55,849 --> 00:31:00,799
funcionamiento del paso a paso y sus

666
00:30:58,279 --> 00:31:02,779
diferentes modos de operación también la

667
00:31:00,799 --> 00:31:05,480
necesidad del uso de un módulo

668
00:31:02,779 --> 00:31:08,720
controlador en aplicaciones de la vida

669
00:31:05,480 --> 00:31:12,319
real el giro del eje se producirá en

670
00:31:08,720 --> 00:31:14,960
base a una condición un sensor en una

671
00:31:12,319 --> 00:31:17,659
impresora 3d estaría dado por la

672
00:31:14,960 --> 00:31:21,740
información del objeto a crear moviendo

673
00:31:17,660 --> 00:31:24,019
tres motores en los ejes x y y ceta

674
00:31:21,740 --> 00:31:26,539
podríamos requerir dar una cierta

675
00:31:24,019 --> 00:31:29,779
cantidad de vueltas o conectados

676
00:31:26,539 --> 00:31:32,569
mediante engranajes o poleas desplazar

677
00:31:29,779 --> 00:31:35,299
un cabezal vimos una gran cantidad de

678
00:31:32,569 --> 00:31:37,609
conceptos en este capítulo que deberán

679
00:31:35,299 --> 00:31:40,669
serte de utilidad para aplicar en tus

680
00:31:37,609 --> 00:31:42,429
propios proyectos si no lo hiciste te

681
00:31:40,670 --> 00:31:44,810
pido te suscribas para recibir

682
00:31:42,430 --> 00:31:47,690
notificaciones y por cualquier duda o

683
00:31:44,809 --> 00:31:49,409
comentario lo podéis hacer debajo que

684
00:31:47,690 --> 00:31:53,180
con gusto te responderé

685
00:31:49,410 --> 00:31:53,180
ciao y hasta la próxima

