1
00:00:01,639 --> 00:00:08,300
hola a todos y bienvenidos al capítulo

2
00:00:04,419 --> 00:00:10,099
41 de arduino desde cero en español

3
00:00:08,300 --> 00:00:14,420
en esta oportunidad veremos cómo

4
00:00:10,099 --> 00:00:17,289
mediante un módulo basado en sp 82.66

5
00:00:14,419 --> 00:00:19,698
lograremos conectar arduino por wifi

6
00:00:17,289 --> 00:00:22,999
convirtiéndolo en un dispositivo que

7
00:00:19,699 --> 00:00:25,460
forma parte del concepto denominado a ti

8
00:00:22,998 --> 00:00:27,379
el internet de las cosas antes de

9
00:00:25,460 --> 00:00:29,778
analizar en detalle el módulo que

10
00:00:27,379 --> 00:00:33,619
estaremos usando veamos de qué se trata

11
00:00:29,778 --> 00:00:36,378
el s&amp;p 8 266 es este circuito integrado

12
00:00:33,619 --> 00:00:38,780
que se muestra en la imagen muy pequeño

13
00:00:36,378 --> 00:00:41,420
de tan solo 5 milímetros de lado

14
00:00:38,780 --> 00:00:44,570
incorpora una gran cantidad de funciones

15
00:00:41,420 --> 00:00:48,140
por eso se lo denomina un soc system on

16
00:00:44,570 --> 00:00:51,500
chip es decir sistema en un chip el

17
00:00:48,140 --> 00:00:53,509
nombre del fabricante es estrés y aquí

18
00:00:51,500 --> 00:00:55,878
se listan de forma resumida las

19
00:00:53,509 --> 00:00:58,698
funciones más destacadas tendrá un

20
00:00:55,878 --> 00:01:01,909
microprocesador potente de 32 bits

21
00:00:58,698 --> 00:01:06,259
memoria ram interfaces para periféricos

22
00:01:01,909 --> 00:01:08,019
como ser esp y 12 y ward un conversor

23
00:01:06,259 --> 00:01:10,420
analógico digital

24
00:01:08,019 --> 00:01:14,289
los digitales de entradas salidas y

25
00:01:10,420 --> 00:01:16,118
conectividad por wifi a 2.4 giga hertz

26
00:01:14,289 --> 00:01:18,219
este shock requiere de algunos

27
00:01:16,118 --> 00:01:20,769
componentes adicionales para poder

28
00:01:18,218 --> 00:01:23,978
utilizarlo en la práctica cómo hacer una

29
00:01:20,769 --> 00:01:26,048
memoria del tipo flash no volátil y una

30
00:01:23,978 --> 00:01:29,109
antena una empresa que se ha encargado

31
00:01:26,049 --> 00:01:32,829
desde hace tiempo de crear justamente el

32
00:01:29,109 --> 00:01:36,310
material de soporte para usar el s&amp;p 82

33
00:01:32,828 --> 00:01:39,428
66 en la práctica su nombre es el de

34
00:01:36,310 --> 00:01:41,679
rinker en esta tabla se pueden ver una

35
00:01:39,429 --> 00:01:45,189
gran cantidad de modelos que existen en

36
00:01:41,679 --> 00:01:48,009
el mercado denominados con las siglas sp

37
00:01:45,188 --> 00:01:51,488
guión y un número de esa manera

38
00:01:48,009 --> 00:01:56,319
tendremos por ejemplo el modelo esp 01

39
00:01:51,489 --> 00:01:58,209
donde aquí indicó el soc esp 82 66 y a

40
00:01:56,319 --> 00:02:00,250
su lado la memoria flash

41
00:01:58,209 --> 00:02:03,219
la antena incorporada en el circuito

42
00:02:00,250 --> 00:02:05,468
impreso y pines de conexión cada modelo

43
00:02:03,218 --> 00:02:07,478
tendrá distintas características en lo

44
00:02:05,468 --> 00:02:10,179
que hacen a las dimensiones del circuito

45
00:02:07,478 --> 00:02:12,789
impreso la posibilidad de conectar una

46
00:02:10,179 --> 00:02:15,909
antena externa como es en el caso del

47
00:02:12,789 --> 00:02:18,669
s&amp;p 05 y la cantidad de memoria flash

48
00:02:15,909 --> 00:02:22,209
los modelos que tienen un encapsulado

49
00:02:18,669 --> 00:02:24,759
cómo hacer el s&amp;p 07 sirve para cumplir

50
00:02:22,209 --> 00:02:27,519
con regulaciones sobre interferencia

51
00:02:24,759 --> 00:02:29,739
electromagnética debajo del mismo se

52
00:02:27,519 --> 00:02:34,060
encuentra en la misma configuración de

53
00:02:29,739 --> 00:02:39,848
s&amp;p 82 66 y memoria flash los modelos

54
00:02:34,060 --> 00:02:43,120
más populares serán los s p 0 7 08 12 en

55
00:02:39,848 --> 00:02:46,119
sus distintas variantes y el no en

56
00:02:43,120 --> 00:02:50,049
siguió nosotros centraremos la atención

57
00:02:46,120 --> 00:02:52,900
en el s&amp;p 12 efe de esta imagen

58
00:02:50,049 --> 00:02:57,069
el módulo como recién decíamos incorpora

59
00:02:52,900 --> 00:03:00,159
el s&amp;p 8 266 una memoria flash con

60
00:02:57,068 --> 00:03:02,768
capacidad de 4 megabytes y la antena

61
00:03:00,159 --> 00:03:06,189
sobre el circuito impreso la atención de

62
00:03:02,769 --> 00:03:08,500
alimentación debe ser de 33 walls y para

63
00:03:06,189 --> 00:03:11,530
destacar se muestran dos figuras de

64
00:03:08,500 --> 00:03:15,250
consumo que serán de 70 mil jumper de

65
00:03:11,530 --> 00:03:18,009
forma típica y 400 mil jumper de pico o

66
00:03:15,250 --> 00:03:19,210
consumo máximo por cortos períodos de

67
00:03:18,008 --> 00:03:21,579
tiempo y ya

68
00:03:19,210 --> 00:03:24,730
el motivo de la importancia de estos

69
00:03:21,580 --> 00:03:28,840
valores la conectividad wi-fi será sobre

70
00:03:24,729 --> 00:03:31,419
la banda y s m de frecuencia de 2.4 giga

71
00:03:28,840 --> 00:03:39,240
hertz en los estándares denominados y

72
00:03:31,419 --> 00:03:42,399
triple 802.11 b g y n las letras b/g/n

73
00:03:39,240 --> 00:03:45,159
indican el valor de tasa de velocidad de

74
00:03:42,400 --> 00:03:49,150
transferencia de datos máxima siendo de

75
00:03:45,159 --> 00:03:52,150
11 megabits para el estándar de 54

76
00:03:49,150 --> 00:03:55,360
megabits para ge y hasta 600 megabits

77
00:03:52,150 --> 00:03:58,120
para n cabe aclarar que el módulo ajusta

78
00:03:55,360 --> 00:04:00,460
su velocidad de forma automática en

79
00:03:58,120 --> 00:04:03,219
función del dispositivo al cual se va a

80
00:04:00,460 --> 00:04:05,349
conectar luego veremos un poco más sobre

81
00:04:03,219 --> 00:04:07,960
la conexión inalámbrica por wifi

82
00:04:05,349 --> 00:04:10,629
volviendo al tema consumos debemos

83
00:04:07,960 --> 00:04:13,629
recordar que el regulador de tensión que

84
00:04:10,629 --> 00:04:16,659
incorporan las placas 1 y mega para el

85
00:04:13,629 --> 00:04:20,170
suministro de 3,3 volts tiene un máximo

86
00:04:16,660 --> 00:04:22,870
de 150 mil jumper con lo cual no será

87
00:04:20,170 --> 00:04:25,540
conveniente alimentar este módulo con la

88
00:04:22,870 --> 00:04:27,430
salida de nuestra placa arduino ya que

89
00:04:25,540 --> 00:04:30,760
bien estaríamos dentro del rango de

90
00:04:27,430 --> 00:04:33,370
consumo típico o promedio no llegamos al

91
00:04:30,759 --> 00:04:36,670
valor de pico que muchas veces aunque

92
00:04:33,370 --> 00:04:38,980
sea por corto tiempo es necesario esto

93
00:04:36,670 --> 00:04:41,050
nos lleva al módulo final que estaremos

94
00:04:38,980 --> 00:04:45,100
usando para la práctica y es el

95
00:04:41,050 --> 00:04:47,470
denominado huimos de 1 min y wii mos es

96
00:04:45,100 --> 00:04:50,020
el nombre del fabricante de este módulo

97
00:04:47,470 --> 00:04:52,990
que incorpora sobre su circuito impreso

98
00:04:50,019 --> 00:04:55,750
al s&amp;p 12 efe

99
00:04:52,990 --> 00:05:00,009
aquí delimitado la de 1 min y es bien

100
00:04:55,750 --> 00:05:02,470
pequeña de tan sólo 34 x 25 milímetros e

101
00:05:00,009 --> 00:05:05,740
incorpora algunas funciones útiles que

102
00:05:02,470 --> 00:05:08,650
hacen al s&amp;p 12 efe más fácil de operar

103
00:05:05,740 --> 00:05:11,530
y conectar en esta imagen de la parte

104
00:05:08,649 --> 00:05:15,370
inferior del módulo vimos que incluye un

105
00:05:11,529 --> 00:05:18,009
regulador de tensión de 5 a 33 golpes

106
00:05:15,370 --> 00:05:20,560
con lo cual alimentaremos el módulo con

107
00:05:18,009 --> 00:05:23,050
la salida de 5 goltz de arduino la

108
00:05:20,560 --> 00:05:26,470
salida de 5 volts como vimos cuando

109
00:05:23,050 --> 00:05:28,870
analizamos el neo pixel del capítulo 29

110
00:05:26,470 --> 00:05:31,210
permite una provisión de corriente de

111
00:05:28,870 --> 00:05:32,259
hasta 500 mil jumper y de esa forma

112
00:05:31,209 --> 00:05:35,409
cubrimos

113
00:05:32,259 --> 00:05:38,740
todas las necesidades de consumo del s&amp;p

114
00:05:35,410 --> 00:05:41,740
12 efe incluyendo el consumo de pico

115
00:05:38,740 --> 00:05:45,699
además tendremos un botón de reset muy

116
00:05:41,740 --> 00:05:49,600
útil un conector del tipo micro usb y un

117
00:05:45,699 --> 00:05:52,930
circuito integrado modelo ch 340 g que

118
00:05:49,600 --> 00:05:56,530
se trata de un conversor usb serie o

119
00:05:52,930 --> 00:05:58,990
también llamado usb ttl para conectar la

120
00:05:56,529 --> 00:06:01,569
placa de forma directa a la computadora

121
00:05:58,990 --> 00:06:04,030
sin necesidad de pasar por arduino

122
00:06:01,569 --> 00:06:06,849
cuestión que trataremos en un capítulo

123
00:06:04,029 --> 00:06:10,959
aparte lo más importante que aporta la

124
00:06:06,850 --> 00:06:13,090
de una mini a la placa esp 12 efe es el

125
00:06:10,959 --> 00:06:16,569
regulador de tensión para poder

126
00:06:13,089 --> 00:06:18,250
alimentarla directamente con 5 volts sin

127
00:06:16,569 --> 00:06:21,339
necesidad de una fuente externa

128
00:06:18,250 --> 00:06:24,579
adicional y también su formato físico

129
00:06:21,339 --> 00:06:27,639
para soldar le pines a sus lados y

130
00:06:24,579 --> 00:06:30,279
conectarla fácilmente a protoboard o

131
00:06:27,639 --> 00:06:32,370
mediante cables la funcionalidad de cada

132
00:06:30,279 --> 00:06:34,209
uno de los terminales es la siguiente

133
00:06:32,370 --> 00:06:36,639
comenzando por la parte de la

134
00:06:34,209 --> 00:06:38,019
alimentación sobre la parte inferior

135
00:06:36,639 --> 00:06:41,589
derecha tendré

136
00:06:38,019 --> 00:06:44,049
5 volts higiene de la atención la

137
00:06:41,589 --> 00:06:46,929
tomaremos de forma directa de la salida

138
00:06:44,050 --> 00:06:50,590
de 5 volts de nuestro arduino del lado

139
00:06:46,930 --> 00:06:53,319
opuesto tendremos una salida de 33 volts

140
00:06:50,589 --> 00:06:57,189
que alimenta a su vez de forma interna

141
00:06:53,319 --> 00:06:59,740
al s&amp;p 12 efe y también nos permite

142
00:06:57,189 --> 00:07:02,379
utilizar dicha tensión para algún

143
00:06:59,740 --> 00:07:04,478
dispositivo externo la comunicación de

144
00:07:02,379 --> 00:07:08,710
datos con arduino será mediante las

145
00:07:04,478 --> 00:07:10,658
conexiones tx rx de la misma forma que

146
00:07:08,709 --> 00:07:14,769
cuando utilizamos el módulo bluetooth

147
00:07:10,658 --> 00:07:17,439
del capítulo 24 adicionalmente al botón

148
00:07:14,769 --> 00:07:19,990
de reset tendremos también una conexión

149
00:07:17,439 --> 00:07:22,000
que realiza la misma función pero que

150
00:07:19,990 --> 00:07:25,090
podríamos comandar de forma remota

151
00:07:22,000 --> 00:07:28,269
debajo de reset aparece la única entrada

152
00:07:25,089 --> 00:07:30,818
analógica similar a la que ya conocemos

153
00:07:28,269 --> 00:07:33,038
de arduino y finalmente el resto de

154
00:07:30,819 --> 00:07:37,210
conexiones corresponderán a pines

155
00:07:33,038 --> 00:07:40,209
digitales de entrada salida de 0 a de 8

156
00:07:37,209 --> 00:07:42,068
estos pines digitales también son como

157
00:07:40,209 --> 00:07:44,168
los que estamos acostumbrados de arduino

158
00:07:42,069 --> 00:07:48,400
pero funcionan con un nivel

159
00:07:44,168 --> 00:07:52,359
lógico de 33 world en vez de 5 y tienen

160
00:07:48,399 --> 00:07:56,549
una designación algo diferente hippie

161
00:07:52,360 --> 00:07:59,528
hippie corresponde a las siglas de

162
00:07:56,550 --> 00:08:02,228
entrada/salida de propósito general es

163
00:07:59,528 --> 00:08:04,778
sólo una nomenclatura distinta a la que

164
00:08:02,228 --> 00:08:05,949
solemos utilizar en vez de decir pin

165
00:08:04,778 --> 00:08:09,098
digital

166
00:08:05,949 --> 00:08:11,819
aquí diremos si piaggio de todas maneras

167
00:08:09,098 --> 00:08:16,870
en este capítulo sólo utilizaremos

168
00:08:11,819 --> 00:08:20,020
alimentación tx rx la uy mos de 1 min e

169
00:08:16,870 --> 00:08:22,418
incorpora una serie de pines para soldar

170
00:08:20,019 --> 00:08:26,168
de distinto tipo tendremos tiras de

171
00:08:22,418 --> 00:08:27,938
pines macho pines hembra y pines duales

172
00:08:26,168 --> 00:08:30,008
macho hembra

173
00:08:27,939 --> 00:08:32,440
yo estaría utilizando la opción de pines

174
00:08:30,009 --> 00:08:34,690
hembras para conectar los cables de

175
00:08:32,440 --> 00:08:37,539
forma directa sin necesidad de colocar

176
00:08:34,690 --> 00:08:40,120
la placa sobre protoboard la opción de

177
00:08:37,538 --> 00:08:43,870
pines duales permite una conexión del

178
00:08:40,120 --> 00:08:46,600
tipo macho en la parte inferior y hembra

179
00:08:43,870 --> 00:08:48,759
en la superior deberá tomarse el trabajo

180
00:08:46,600 --> 00:08:49,560
de seleccionar el tipo de pines que

181
00:08:48,759 --> 00:08:52,439
desees

182
00:08:49,559 --> 00:08:54,569
y soldar los a la placa muy bien veamos

183
00:08:52,440 --> 00:08:57,210
el circuito de conexión con arduino

184
00:08:54,570 --> 00:08:59,760
decíamos que utilizaremos directamente

185
00:08:57,210 --> 00:09:02,190
la salida de 5 volts ya que es capaz de

186
00:08:59,759 --> 00:09:04,799
suministrar la corriente necesaria luego

187
00:09:02,190 --> 00:09:08,160
el regulador de la de 1 a mini se

188
00:09:04,799 --> 00:09:11,789
encargará de regularlo a 33 volts a los

189
00:09:08,159 --> 00:09:14,759
cuales opera el s&amp;p 12 efe pero debemos

190
00:09:11,789 --> 00:09:18,319
encargarnos antes de un tema importante

191
00:09:14,759 --> 00:09:22,528
y es el de ajustar los niveles de tx rx

192
00:09:18,320 --> 00:09:25,820
ya que arduino trabaja a 5 volts y la de

193
00:09:22,528 --> 00:09:28,919
1 mini a 33 para lograr ese objetivo

194
00:09:25,820 --> 00:09:31,440
utilizaremos un conversor de nivel como

195
00:09:28,919 --> 00:09:34,528
se muestra aquí se trata de un pequeño

196
00:09:31,440 --> 00:09:38,670
módulo de 8 pines que hará la conversión

197
00:09:34,528 --> 00:09:41,669
de niveles lógicos de 5 a 33 volts y

198
00:09:38,669 --> 00:09:43,829
viceversa en esta vista superior se

199
00:09:41,669 --> 00:09:46,588
encuentran los componentes del módulo

200
00:09:43,830 --> 00:09:49,350
que incluye un pequeño led rojo los

201
00:09:46,589 --> 00:09:51,620
pines están soldados al revés de la

202
00:09:49,350 --> 00:09:54,570
forma usual por un motivo puramente

203
00:09:51,620 --> 00:09:56,039
operacional resulta que la indicación de

204
00:09:54,570 --> 00:09:58,019
la funcionalidad

205
00:09:56,039 --> 00:10:01,078
uno de los pines se encuentra en la

206
00:09:58,019 --> 00:10:04,019
parte inferior del módulo y se puede ver

207
00:10:01,078 --> 00:10:06,359
en esta imagen de esta forma el módulo

208
00:10:04,019 --> 00:10:08,970
queda apuntando hacia abajo para

209
00:10:06,360 --> 00:10:11,730
conectar la protoboard y tener visible

210
00:10:08,970 --> 00:10:14,310
las indicaciones los 4 pines de la

211
00:10:11,730 --> 00:10:16,860
izquierda corresponden a las zonas de

212
00:10:14,309 --> 00:10:19,828
alta tensión que no es alta para nada

213
00:10:16,860 --> 00:10:23,639
pero es una forma de diferenciar la zona

214
00:10:19,828 --> 00:10:27,239
de 5 balls de la zona de 33 los dos

215
00:10:23,639 --> 00:10:29,750
primeros pines superiores serán 5volts y

216
00:10:27,240 --> 00:10:34,500
genes de kilos obtendremos de arduino

217
00:10:29,750 --> 00:10:39,059
debajo con las denominaciones hb 1 y hb

218
00:10:34,500 --> 00:10:42,839
2 high voltage 1 y high voltage 2 los

219
00:10:39,059 --> 00:10:45,359
conectaremos a tx rx del lado de arduino

220
00:10:42,839 --> 00:10:49,110
del lado opuesto tendremos su

221
00:10:45,360 --> 00:10:55,019
contraparte de baja tensión con 33 volts

222
00:10:49,110 --> 00:10:59,610
gn de iu lv 1 y lv 2 low voltage 1 low

223
00:10:55,019 --> 00:11:00,480
voltage 2 que se conectarán a tx rx de

224
00:10:59,610 --> 00:11:02,850
la de 1

225
00:11:00,480 --> 00:11:04,860
de manera que este módulo para funcionar

226
00:11:02,850 --> 00:11:09,629
requiere ambas extensiones de

227
00:11:04,860 --> 00:11:12,750
alimentación 5 y 33 volts las señales tx

228
00:11:09,629 --> 00:11:16,379
rx que ingresen a la parte de alta

229
00:11:12,750 --> 00:11:20,370
tensión se convertirán a 3,3 volts de la

230
00:11:16,379 --> 00:11:23,610
misma forma las señales de tx rx de la

231
00:11:20,370 --> 00:11:26,610
zona de baja tensión se incrementarán a

232
00:11:23,610 --> 00:11:29,550
5 volts aunque sea algo molesto estar

233
00:11:26,610 --> 00:11:31,949
agregando componentes es una necesidad y

234
00:11:29,549 --> 00:11:34,799
puedo decir por experiencia propia que

235
00:11:31,948 --> 00:11:39,000
un simple divisor resistivo para reducir

236
00:11:34,799 --> 00:11:41,099
de 5 a 3,3 no funciona adecuadamente así

237
00:11:39,000 --> 00:11:43,948
que debemos recurrir al uso de un

238
00:11:41,100 --> 00:11:46,139
conversor de hecho es un módulo muy útil

239
00:11:43,948 --> 00:11:49,620
para variedad de casos donde debemos

240
00:11:46,139 --> 00:11:52,289
trabajar con niveles lógicos de 33 volts

241
00:11:49,620 --> 00:11:55,620
este conversor es de 2 canales pero

242
00:11:52,289 --> 00:11:58,169
existen de 4 y 8 más canales son

243
00:11:55,620 --> 00:12:01,409
necesarios por ejemplo para conexiones

244
00:11:58,169 --> 00:12:04,229
del tipo spin pero para este caso como

245
00:12:01,409 --> 00:12:05,769
usamos sólo dos líneas con dos canales

246
00:12:04,230 --> 00:12:08,199
va perfecto

247
00:12:05,769 --> 00:12:10,989
viendo el circuito conectaremos un cable

248
00:12:08,198 --> 00:12:14,349
directo desde la salida de 5 volts de

249
00:12:10,989 --> 00:12:17,619
arduino a 5 volts del conversor y desde

250
00:12:14,350 --> 00:12:20,980
ese mismo punto saldremos con otro cable

251
00:12:17,619 --> 00:12:24,189
a 5 volts de la de 1 mini con un cable

252
00:12:20,980 --> 00:12:26,259
directo desde género de arduino a gene d

253
00:12:24,188 --> 00:12:29,528
del conversor cabe aclarar que

254
00:12:26,259 --> 00:12:32,589
internamente gene de de la zona de alta

255
00:12:29,528 --> 00:12:35,649
tensión está conectada a genes de la

256
00:12:32,589 --> 00:12:37,600
zona de baja tensión ahora desde gener y

257
00:12:35,649 --> 00:12:40,808
de la zona de baja tensión

258
00:12:37,600 --> 00:12:43,149
iremos a gene de tela de 1min y con lo

259
00:12:40,808 --> 00:12:46,118
cual ya tendremos alimentado el módulo

260
00:12:43,149 --> 00:12:48,308
con los 5 goles pero como vimos recién

261
00:12:46,119 --> 00:12:50,949
el conversor requiere también de

262
00:12:48,308 --> 00:12:54,368
alimentación de 3,3 volts y los

263
00:12:50,948 --> 00:12:57,128
obtendremos de la salida de la de 1 mini

264
00:12:54,369 --> 00:13:00,579
que aquí se ve con color naranja estos

265
00:12:57,129 --> 00:13:02,829
33 world tienen un muy bajo consumo ya

266
00:13:00,578 --> 00:13:06,698
que se utilizan sólo para nivelar las

267
00:13:02,828 --> 00:13:10,669
señales de tx rx de manera que podemos

268
00:13:06,698 --> 00:13:12,919
obtenerlo de la de 1 min y sin problemas

269
00:13:10,669 --> 00:13:14,659
muy grande se produce con los cinco

270
00:13:12,919 --> 00:13:19,429
goles que vienen directos de arduino

271
00:13:14,659 --> 00:13:23,059
sólo resta enlazar tx rx de arduino con

272
00:13:19,429 --> 00:13:26,539
tx rx del módulo como ya vimos del

273
00:13:23,059 --> 00:13:30,500
capítulo 24 de x de arduino debe ir

274
00:13:26,539 --> 00:13:31,069
conectado a ere x del módulo y rx de

275
00:13:30,500 --> 00:13:34,759
arduino

276
00:13:31,070 --> 00:13:37,310
házte x del módulo de esa manera cuando

277
00:13:34,759 --> 00:13:40,149
un dispositivo transmite y el otro

278
00:13:37,309 --> 00:13:43,159
recibe y viceversa por programación

279
00:13:40,149 --> 00:13:45,949
utilizando la librería software serial

280
00:13:43,159 --> 00:13:49,579
podremos definir dos pines digitales

281
00:13:45,950 --> 00:13:52,190
para realizar las funciones de rx y tx

282
00:13:49,580 --> 00:13:55,850
para ser consistentes de cuando tratamos

283
00:13:52,190 --> 00:14:00,140
bluetooth asignaremos rx al pin digital

284
00:13:55,850 --> 00:14:03,139
número 10 y tx al pin digital 11 pero

285
00:14:00,139 --> 00:14:05,480
podrías elegir otros sin problemas aquí

286
00:14:03,139 --> 00:14:08,149
en la nota se resumen las conexiones que

287
00:14:05,480 --> 00:14:10,759
realizaremos claro que debemos pasar por

288
00:14:08,149 --> 00:14:13,340
el conversor para nivelar con este cable

289
00:14:10,759 --> 00:14:15,740
de color azul salimos del pin digital

290
00:14:13,340 --> 00:14:19,430
número 10 y lo conectamos

291
00:14:15,740 --> 00:14:23,330
hb 2 del conversor del otro lado del

292
00:14:19,429 --> 00:14:26,689
mismo tendremos la misma señal rx pero

293
00:14:23,330 --> 00:14:31,430
ya nivelada a 3,3 volts con lo cual sólo

294
00:14:26,690 --> 00:14:34,360
resta conectar lv2 a tx de la de 1 min y

295
00:14:31,429 --> 00:14:37,159
con el cable de color verde apropósito

296
00:14:34,360 --> 00:14:41,419
cambie el color del cable para mostrar

297
00:14:37,159 --> 00:14:44,750
que erre x de arduino va a x del módulo

298
00:14:41,419 --> 00:14:49,490
resta sólo la línea tx de arduino hacia

299
00:14:44,750 --> 00:14:52,759
hb 1 del conversor y desde el lv 1 hacia

300
00:14:49,490 --> 00:14:55,610
rx del módulo para resumir la conexión

301
00:14:52,759 --> 00:15:01,039
alimentamos la de 1 min y con los cinco

302
00:14:55,610 --> 00:15:04,279
votos de arduino tx rx y lx a tx pero

303
00:15:01,039 --> 00:15:06,649
como debemos convertir los niveles a 33

304
00:15:04,279 --> 00:15:08,959
debemos pasar dichas líneas por el

305
00:15:06,649 --> 00:15:10,970
conversor ahora si tenemos todo listo

306
00:15:08,960 --> 00:15:13,420
para el primer programa que es

307
00:15:10,970 --> 00:15:16,399
exactamente igual que el del capítulo 24

308
00:15:13,419 --> 00:15:19,279
pero esta vez al crear el objeto del

309
00:15:16,399 --> 00:15:20,840
tipo software serial le daremos el

310
00:15:19,279 --> 00:15:24,100
nombre de d

311
00:15:20,840 --> 00:15:28,750
en lugar de mi vete por eso aquí tenemos

312
00:15:24,100 --> 00:15:31,790
software serial de uno entre paréntesis

313
00:15:28,750 --> 00:15:34,820
10-11 estableciendo al pin digital el

314
00:15:31,789 --> 00:15:37,639
número 10 como rx y el pin digital

315
00:15:34,820 --> 00:15:40,629
número 11 y como tx en el setup

316
00:15:37,639 --> 00:15:44,059
inicializa mos ambas comunicaciones a

317
00:15:40,629 --> 00:15:46,759
9.600 bps y en el loop el primer

318
00:15:44,059 --> 00:15:50,029
condicional consultas e información

319
00:15:46,759 --> 00:15:53,179
disponible desde el módulo con de 1

320
00:15:50,029 --> 00:15:55,639
punto available si ese es el caso

321
00:15:53,179 --> 00:15:59,149
simplemente escribimos en el monitor

322
00:15:55,639 --> 00:16:01,699
serie la información recibida con serial

323
00:15:59,149 --> 00:16:04,429
punto write el siguiente condicional

324
00:16:01,700 --> 00:16:06,890
expira por la condición opuesta si hay

325
00:16:04,429 --> 00:16:10,039
información disponible desde el monitor

326
00:16:06,889 --> 00:16:13,669
serie es decir si nosotros escribimos

327
00:16:10,039 --> 00:16:16,610
algún comando lo envía al módulo con de

328
00:16:13,669 --> 00:16:19,250
1 punto grave si no hay información para

329
00:16:16,610 --> 00:16:21,889
enviar o recibir simplemente no hacemos

330
00:16:19,250 --> 00:16:23,600
nada y ese es todo el programa

331
00:16:21,889 --> 00:16:27,139
lo interesante lo veremos cuando

332
00:16:23,600 --> 00:16:30,470
comencemos a enviarle al módulo comandos

333
00:16:27,139 --> 00:16:33,769
para ejecutar diversas acciones vamos a

334
00:16:30,470 --> 00:16:36,170
verificar subir el programa y abrir el

335
00:16:33,769 --> 00:16:38,808
monitor serie es importante que

336
00:16:36,169 --> 00:16:43,159
verifiques en el menú de ajuste de línea

337
00:16:38,808 --> 00:16:46,338
que esté seleccionado ambos nl y cr es

338
00:16:43,159 --> 00:16:50,149
decir tanto nueva línea como retorno de

339
00:16:46,339 --> 00:16:53,209
carro y finalmente la velocidad de 9.600

340
00:16:50,149 --> 00:16:55,639
baudios enviaremos el comando a t desde

341
00:16:53,208 --> 00:16:58,248
la caja de texto en la parte superior

342
00:16:55,639 --> 00:17:01,519
del monitor serie escribimos todo en

343
00:16:58,249 --> 00:17:04,250
mayúsculas las letras a it y luego

344
00:17:01,519 --> 00:17:07,338
podemos presionar enter del teclado o

345
00:17:04,250 --> 00:17:10,130
clic en el botón de enviar deberemos ver

346
00:17:07,338 --> 00:17:12,619
que nos responde el módulo con ok

347
00:17:10,130 --> 00:17:15,260
de esa manera simple verificamos que

348
00:17:12,619 --> 00:17:17,538
tenemos comunicación con el módulo los

349
00:17:15,259 --> 00:17:19,908
comandos a ti que estaremos usando en

350
00:17:17,538 --> 00:17:22,369
este programa son los mostrados en esta

351
00:17:19,909 --> 00:17:24,620
tabla hay muchos más pero son los más

352
00:17:22,369 --> 00:17:28,879
relevantes por el momento

353
00:17:24,619 --> 00:17:31,699
además se w modo permite establecer el

354
00:17:28,880 --> 00:17:33,320
modo de operación de nuestro módulo que

355
00:17:31,700 --> 00:17:36,048
tendrá tres opciones

356
00:17:33,319 --> 00:17:38,689
asignando un valor de 1 indicamos el

357
00:17:36,048 --> 00:17:42,168
modo tipo cliente también llamado

358
00:17:38,690 --> 00:17:45,620
station asignando un número 2 indicamos

359
00:17:42,169 --> 00:17:49,159
modo punto de acceso o access point y

360
00:17:45,619 --> 00:17:54,469
finalmente con un 3 el modo dual cliente

361
00:17:49,159 --> 00:17:57,139
+ punto de acceso con at&amp;t más c&amp;w l ap

362
00:17:54,470 --> 00:18:00,470
nos devolverá un listado de los puntos

363
00:17:57,138 --> 00:18:05,628
de acceso disponibles para conectarse y

364
00:18:00,470 --> 00:18:07,940
ate más c&amp;w j ap nos permite conectarnos

365
00:18:05,628 --> 00:18:11,569
a un determinado punto de acceso

366
00:18:07,940 --> 00:18:14,840
debiendo especificar el identificador o

367
00:18:11,569 --> 00:18:16,849
ese es haití y la contraseña para

368
00:18:14,839 --> 00:18:19,220
entender mejor el proceso que realizan

369
00:18:16,849 --> 00:18:22,158
estos tres primeros comandos veamos

370
00:18:19,220 --> 00:18:25,100
brevemente una típica topología de red

371
00:18:22,159 --> 00:18:27,799
hogareña en la actualidad con cada vez

372
00:18:25,099 --> 00:18:30,500
más dispositivos conectados a internet

373
00:18:27,798 --> 00:18:33,500
esta imagen representa una típica

374
00:18:30,500 --> 00:18:36,500
conexión donde podemos tener algunos de

375
00:18:33,500 --> 00:18:39,109
ellos conectados por cable y otros de

376
00:18:36,500 --> 00:18:40,160
forma inalámbrica por wifi cuando

377
00:18:39,109 --> 00:18:42,289
contratamos

378
00:18:40,160 --> 00:18:45,529
servicio de internet nuestro proveedor

379
00:18:42,289 --> 00:18:48,289
de acceso y s&amp;p podrá llegar a nuestro

380
00:18:45,529 --> 00:18:51,259
hogar de diversas formas mediante cable

381
00:18:48,289 --> 00:18:53,450
el antes llamado cable módem es decir

382
00:18:51,259 --> 00:18:55,369
que por el mismo medio donde recibimos

383
00:18:53,450 --> 00:18:58,759
la televisión por cable

384
00:18:55,369 --> 00:19:01,639
recibimos internet dsl que es el medio

385
00:18:58,759 --> 00:19:04,190
utilizado por la telefonía fija donde

386
00:19:01,640 --> 00:19:07,160
mediante la línea o par de cobre

387
00:19:04,190 --> 00:19:10,070
recibimos internet fibra óptica o

388
00:19:07,160 --> 00:19:12,980
incluso satélite el dispositivo provisto

389
00:19:10,069 --> 00:19:16,789
para recibir internet es el módem router

390
00:19:12,980 --> 00:19:18,620
o enrutador que se muestra aquí el cual

391
00:19:16,789 --> 00:19:23,690
también permite conexiones inalámbricas

392
00:19:18,619 --> 00:19:26,750
por wifi la señal de cable dsl fibra o

393
00:19:23,690 --> 00:19:30,460
satélite ingresa a un puerto especial en

394
00:19:26,750 --> 00:19:31,670
el módem denominado one wide area

395
00:19:30,460 --> 00:19:33,259
networks

396
00:19:31,670 --> 00:19:36,230
luego tendremos a nuestra disposición

397
00:19:33,259 --> 00:19:39,559
para armar nuestra red local land

398
00:19:36,230 --> 00:19:42,319
mediante dispositivos alámbricos e

399
00:19:39,559 --> 00:19:45,559
inalámbricos desde antes de la llegada

400
00:19:42,319 --> 00:19:48,769
del wifi como método de conexión a redes

401
00:19:45,559 --> 00:19:51,769
locales se utilizaba y sigue utilizando

402
00:19:48,769 --> 00:19:54,440
la conexión mediante internet que se

403
00:19:51,769 --> 00:19:57,410
muestra aquí muchas veces este tipo de

404
00:19:54,440 --> 00:20:00,110
conexión alámbrica se utiliza para una

405
00:19:57,410 --> 00:20:02,420
computadora de escritorio ya que el modo

406
00:20:00,109 --> 00:20:04,369
en router suele estar cerca de la misma

407
00:20:02,420 --> 00:20:08,029
y no todas las computadoras de

408
00:20:04,369 --> 00:20:10,939
escritorio tienen capacidad wifi wifi

409
00:20:08,029 --> 00:20:13,940
será el método de conexión inalámbrica a

410
00:20:10,940 --> 00:20:16,940
la red local preferida para dispositivos

411
00:20:13,940 --> 00:20:19,940
móviles como ser un notebook o laptop

412
00:20:16,940 --> 00:20:23,330
tablet teléfono móvil o un televisor

413
00:20:19,940 --> 00:20:26,600
smart siendo este último no precisamente

414
00:20:23,329 --> 00:20:29,029
un dispositivo móvil pero el wifi evita

415
00:20:26,599 --> 00:20:31,250
llegar con un cable ethernet en

416
00:20:29,029 --> 00:20:35,269
definitiva lo que debe quedar claro es

417
00:20:31,250 --> 00:20:38,240
que wifi no equivale a internet wifi es

418
00:20:35,269 --> 00:20:41,059
un método de conexión inalámbrica y el

419
00:20:38,240 --> 00:20:44,120
módem router será el que nos conecta a

420
00:20:41,059 --> 00:20:47,240
internet mediante el s&amp;p quizás ya este

421
00:20:44,119 --> 00:20:50,359
tema lo sepas pero me parece importante

422
00:20:47,240 --> 00:20:52,460
darle una repasada entonces en esta red

423
00:20:50,359 --> 00:20:55,250
tenemos muchos dispositivos

424
00:20:52,460 --> 00:20:57,559
nuestro módulo de 1 min y ahora será

425
00:20:55,250 --> 00:21:00,049
parte de esta red para lograr una

426
00:20:57,559 --> 00:21:03,559
conexión con el módem router debemos

427
00:21:00,049 --> 00:21:05,990
primero establecer el modo en cliente ya

428
00:21:03,559 --> 00:21:08,929
que el punto de acceso será el módem

429
00:21:05,990 --> 00:21:11,500
router y nosotros seremos un dispositivo

430
00:21:08,930 --> 00:21:14,450
más conectado a la red el módem router

431
00:21:11,500 --> 00:21:17,150
realiza una emisión pública de su

432
00:21:14,450 --> 00:21:20,299
identificador es la forma en que podemos

433
00:21:17,150 --> 00:21:22,820
reconocer nuestra red local de muchas

434
00:21:20,299 --> 00:21:25,009
otras en cercanía ya veremos que cuando

435
00:21:22,819 --> 00:21:27,559
pidamos un listado de los puntos de

436
00:21:25,009 --> 00:21:29,509
acceso disponibles captaremos la de

437
00:21:27,559 --> 00:21:31,819
nuestros vecinos cercanos el

438
00:21:29,509 --> 00:21:35,029
identificador tiene el término técnico

439
00:21:31,819 --> 00:21:38,750
ese es haití si queremos unirnos a la

440
00:21:35,029 --> 00:21:41,059
red debemos indicar el identificador y

441
00:21:38,750 --> 00:21:43,250
claro está la contraseña

442
00:21:41,059 --> 00:21:46,039
una vez que el módem router verifica que

443
00:21:43,250 --> 00:21:49,309
la contraseña es correcta asigna una

444
00:21:46,039 --> 00:21:51,049
dirección ip de forma automática aquí

445
00:21:49,309 --> 00:21:57,329
podemos ver que la computadora de

446
00:21:51,049 --> 00:22:03,839
escritorio recibió una ip de 192 168 0

447
00:21:57,329 --> 00:22:06,779
es la computadora móvil 192 168 0 11 y

448
00:22:03,839 --> 00:22:09,809
así para cada dispositivo nuestro módulo

449
00:22:06,779 --> 00:22:12,629
de 1 a mini una vez autenticado también

450
00:22:09,809 --> 00:22:19,409
tendrá asignada una dirección ip como en

451
00:22:12,630 --> 00:22:22,410
este caso 192 168 0 18 volvamos al

452
00:22:19,410 --> 00:22:27,330
monitor serie enviamos el primer comando

453
00:22:22,410 --> 00:22:29,910
de más de w módulo igual 1 para

454
00:22:27,329 --> 00:22:33,569
establecer al módulo en modo cliente

455
00:22:29,910 --> 00:22:35,790
presionamos enter enviando este comando

456
00:22:33,569 --> 00:22:38,220
y vemos la respuesta ok

457
00:22:35,789 --> 00:22:41,460
luego solicitamos un listado de los

458
00:22:38,220 --> 00:22:46,319
puntos de acceso disponibles con at&amp;t +

459
00:22:41,460 --> 00:22:49,410
c w el ape devolverá una línea por cada

460
00:22:46,319 --> 00:22:52,819
uno de los puntos de acceso access point

461
00:22:49,410 --> 00:22:55,560
que detecte seguramente verás varios

462
00:22:52,819 --> 00:22:57,960
correspondientes al de tu red de local y

463
00:22:55,559 --> 00:23:00,299
también a los de tus vecinos cercanos

464
00:22:57,960 --> 00:23:02,730
aquí está ocultada la información por

465
00:23:00,299 --> 00:23:04,079
una cuestión de privacidad el punto de

466
00:23:02,730 --> 00:23:07,288
acceso de mi red

467
00:23:04,079 --> 00:23:10,168
tiene el nombre ni lo intentes que aquí

468
00:23:07,288 --> 00:23:13,319
aparece entre comillas luego le seguirán

469
00:23:10,169 --> 00:23:16,528
parámetros técnicos de nivel de potencia

470
00:23:13,319 --> 00:23:18,928
de señal métodos de autenticación y más

471
00:23:16,528 --> 00:23:22,048
pero a nosotros nos interesa sólo en el

472
00:23:18,929 --> 00:23:24,240
nombre este no es un paso obligatorio ya

473
00:23:22,048 --> 00:23:26,908
que se supone que sabemos cuál es el

474
00:23:24,240 --> 00:23:29,308
identificador de nuestra red local pero

475
00:23:26,909 --> 00:23:31,769
sirve de ejemplo para ver cómo el módulo

476
00:23:29,308 --> 00:23:34,619
capta información de su alrededor

477
00:23:31,769 --> 00:23:35,220
entonces lo que nos queda es unirnos a

478
00:23:34,619 --> 00:23:40,109
la red

479
00:23:35,220 --> 00:23:43,919
por eso usaremos el comando ate + c&amp;w j

480
00:23:40,109 --> 00:23:46,709
ap igual entre comillas en el nombre del

481
00:23:43,919 --> 00:23:49,950
punto de acceso en mi caso ni lo

482
00:23:46,710 --> 00:23:54,528
intentes una coma y luego entre comillas

483
00:23:49,950 --> 00:23:57,149
la contraseña que para mí será no es

484
00:23:54,528 --> 00:23:58,829
1234 claro está que aquí

485
00:23:57,148 --> 00:24:01,709
deberás colocar los datos del

486
00:23:58,829 --> 00:24:04,168
identificador de tu red y contraseña

487
00:24:01,710 --> 00:24:07,700
correspondiente enviando el comando

488
00:24:04,169 --> 00:24:08,940
verás que responde con wifi disconnect

489
00:24:07,700 --> 00:24:11,170
wifi

490
00:24:08,940 --> 00:24:16,710
connected y wifi

491
00:24:11,170 --> 00:24:20,080
y wifi desconecta wifi conectado y wifi

492
00:24:16,710 --> 00:24:23,110
obtuvo ip eso significa que el módem

493
00:24:20,079 --> 00:24:25,389
router ha procesado la solicitud de

494
00:24:23,109 --> 00:24:28,479
nuestra de un dominio para unirse a la

495
00:24:25,390 --> 00:24:30,370
red y le asignó una dirección ip para

496
00:24:28,480 --> 00:24:33,819
ver cuál es esa dirección

497
00:24:30,369 --> 00:24:38,939
enviamos el comando hace más 6

498
00:24:33,819 --> 00:24:45,659
efe cr nos devolverá primero st a ip

499
00:24:38,940 --> 00:24:50,110
station haití y entre comillas 192 168 0

500
00:24:45,660 --> 00:24:53,350
18 también nos muestra este a mac que es

501
00:24:50,109 --> 00:24:55,689
station mac el mac es una dirección

502
00:24:53,349 --> 00:24:59,199
única que tiene todo dispositivo

503
00:24:55,690 --> 00:25:01,870
conectado a una red ya sea alámbrica o

504
00:24:59,200 --> 00:25:04,240
inalámbrica por ahora no es un valor que

505
00:25:01,869 --> 00:25:06,549
nos interese para comunicarnos con el

506
00:25:04,240 --> 00:25:09,250
módulo una vez que forma parte de

507
00:25:06,549 --> 00:25:12,519
nuestra red local deberemos iniciar en

508
00:25:09,250 --> 00:25:15,420
el mismo un servidor web de esta forma

509
00:25:12,519 --> 00:25:16,908
luego mediante un navegador web podremos

510
00:25:15,420 --> 00:25:19,489
enviarle

511
00:25:16,909 --> 00:25:22,159
recibir información volvemos al listado

512
00:25:19,489 --> 00:25:24,858
de comandos ate y repasemos los que

513
00:25:22,159 --> 00:25:28,940
utilizaremos para esta etapa el primero

514
00:25:24,858 --> 00:25:31,638
será a temas ceip puig que nos permitirá

515
00:25:28,940 --> 00:25:34,669
indicar si deseamos habilitar o no

516
00:25:31,638 --> 00:25:38,209
múltiples conexiones simultáneas con un

517
00:25:34,669 --> 00:25:41,210
valor de 1 indicamos este último caso de

518
00:25:38,210 --> 00:25:44,149
esa manera podemos servir en simultáneo

519
00:25:41,210 --> 00:25:47,659
a múltiples conexiones de navegadores

520
00:25:44,148 --> 00:25:51,498
web con información o recibir datos de

521
00:25:47,659 --> 00:25:55,039
los mismos finalmente con a temas de ip

522
00:25:51,499 --> 00:25:58,089
server podremos activar o desactivar el

523
00:25:55,038 --> 00:26:01,368
servidor web pasando un valor de 1

524
00:25:58,089 --> 00:26:04,788
iniciamos el servidor web y como segundo

525
00:26:01,368 --> 00:26:07,449
parámetro el número de puerto tcp donde

526
00:26:04,788 --> 00:26:10,190
estará escuchando conexiones entrantes

527
00:26:07,450 --> 00:26:13,399
probablemente ya lo sepas pero el puerto

528
00:26:10,190 --> 00:26:15,320
80 y ser utilizado por defecto para los

529
00:26:13,398 --> 00:26:18,199
servidores web es por cuestiones de

530
00:26:15,319 --> 00:26:20,898
seguridad podría ser de utilidad tenerlo

531
00:26:18,200 --> 00:26:23,360
en un puerto no estándar vamos al

532
00:26:20,898 --> 00:26:28,279
monitor serie y escribamos

533
00:26:23,359 --> 00:26:32,629
a ti más se ve mucho igual uno y luego

534
00:26:28,279 --> 00:26:35,240
enter responde ok y así establecemos el

535
00:26:32,630 --> 00:26:39,790
modo de múltiples conexiones luego

536
00:26:35,240 --> 00:26:44,750
iniciamos el servidor web con ate + ceip

537
00:26:39,789 --> 00:26:47,470
server igual 1,80 nuevamente nos

538
00:26:44,750 --> 00:26:50,450
responderá ok y ya está todo listo

539
00:26:47,470 --> 00:26:52,940
abramos nuestro navegador web favorito

540
00:26:50,450 --> 00:26:54,950
esto lo podrás hacer de la computadora

541
00:26:52,940 --> 00:26:57,110
de escritorio o cualquier otro

542
00:26:54,950 --> 00:26:59,090
dispositivo conectado a la red

543
00:26:57,109 --> 00:27:01,819
tranquilamente podría iniciar el

544
00:26:59,089 --> 00:27:02,389
navegador en tu teléfono móvil que sería

545
00:27:01,819 --> 00:27:05,000
lo mismo

546
00:27:02,390 --> 00:27:10,780
ingresemos en la barra de direcciones la

547
00:27:05,000 --> 00:27:14,359
ip de nuestra de 1 min y las 192 168 0

548
00:27:10,779 --> 00:27:18,139
18 en tu caso deberás colocar la que te

549
00:27:14,359 --> 00:27:22,339
haya mostrado el comando a ti más seguir

550
00:27:18,140 --> 00:27:24,950
efe ese ere de antes y luego enter verás

551
00:27:22,339 --> 00:27:27,168
que muestra que se está conectando pero

552
00:27:24,950 --> 00:27:29,029
nunca finaliza de cargar ni tampoco

553
00:27:27,169 --> 00:27:31,700
generador alguno

554
00:27:29,029 --> 00:27:34,279
es correcto ya que iniciamos el servidor

555
00:27:31,700 --> 00:27:37,880
web pero no programamos que responda

556
00:27:34,279 --> 00:27:40,519
nada aún veamos el monitor serie aparece

557
00:27:37,880 --> 00:27:44,630
este bloque de información la primer

558
00:27:40,519 --> 00:27:46,849
línea dice cero coma connect 0 es el

559
00:27:44,630 --> 00:27:48,980
número de la conexión recordad que

560
00:27:46,849 --> 00:27:51,919
habilitamos el modo de múltiples

561
00:27:48,980 --> 00:27:54,289
conexiones con lo cual desde iniciado el

562
00:27:51,920 --> 00:27:57,200
servidor nos conectamos con el navegador

563
00:27:54,289 --> 00:28:00,500
web y es la primera conexión que recibe

564
00:27:57,200 --> 00:28:03,170
con el número 0 si en simultáneo abriera

565
00:28:00,500 --> 00:28:05,539
su otra ventana de navegador o ingresará

566
00:28:03,170 --> 00:28:08,660
desde otro dispositivo a la segunda

567
00:28:05,539 --> 00:28:12,200
conexión se le asignaría el número uno y

568
00:28:08,660 --> 00:28:14,450
así incrementaría con cada una nueva por

569
00:28:12,200 --> 00:28:17,660
ahora trabajaremos con una sola conexión

570
00:28:14,450 --> 00:28:20,900
así que la línea nos indica un estado de

571
00:28:17,660 --> 00:28:23,509
conectado a la conexión número cero

572
00:28:20,900 --> 00:28:25,640
debajo en varias líneas tenemos

573
00:28:23,509 --> 00:28:28,039
información de lo que se denomina el

574
00:28:25,640 --> 00:28:30,290
encabezado de la conexión esta

575
00:28:28,039 --> 00:28:33,559
información la envía el navegador web

576
00:28:30,289 --> 00:28:37,369
hacia el servidor luego de más

577
00:28:33,559 --> 00:28:40,159
y p de coma aparece el 0 que es el

578
00:28:37,369 --> 00:28:43,099
número de la conexión luego la cantidad

579
00:28:40,160 --> 00:28:45,440
de bytes recibidos y jet que es el

580
00:28:43,099 --> 00:28:48,949
método para recibir información

581
00:28:45,440 --> 00:28:51,650
adicional mediante la dirección url que

582
00:28:48,950 --> 00:28:54,220
ingresamos como verás aquí aparecen

583
00:28:51,650 --> 00:28:58,070
varios conceptos sobre la comunicación

584
00:28:54,220 --> 00:29:00,740
tcp/ip no te preocupes si hay cosas que

585
00:28:58,069 --> 00:29:03,889
aún no comprendan que estaré mencionando

586
00:29:00,740 --> 00:29:08,180
la información más relevante luego dice

587
00:29:03,890 --> 00:29:10,130
la versión de http que es la 1.1 más

588
00:29:08,180 --> 00:29:13,009
abajo la dirección ip de nuestro

589
00:29:10,130 --> 00:29:15,530
servidor e información básica sobre

590
00:29:13,009 --> 00:29:18,049
nuestro sistema operativo y navegador

591
00:29:15,529 --> 00:29:20,899
web todo este encabezado como decía

592
00:29:18,049 --> 00:29:24,079
antes lo envía el navegador cada vez que

593
00:29:20,900 --> 00:29:26,870
hace una petición al servidor web está

594
00:29:24,079 --> 00:29:29,389
corriendo en nuestra de 1min y para

595
00:29:26,869 --> 00:29:32,059
mostrar cómo funciona el método get para

596
00:29:29,390 --> 00:29:35,540
obtener información mediante la url

597
00:29:32,059 --> 00:29:37,279
vamos al navegador web y colocamos luego

598
00:29:35,539 --> 00:29:40,690
de la dirección la barra

599
00:29:37,279 --> 00:29:47,629
y la palabra prueba de manera que quede

600
00:29:40,690 --> 00:29:50,630
192 168 0 18 barra prueba presionaremos

601
00:29:47,630 --> 00:29:53,690
enter y veamos nuevamente el monitor

602
00:29:50,630 --> 00:29:58,430
serie miras que ahora dice 0

603
00:29:53,690 --> 00:30:01,880
close y luego 0 connect es decir que

604
00:29:58,430 --> 00:30:04,310
cerró la conexión número 0 y la volvió a

605
00:30:01,880 --> 00:30:07,130
abrir ya que hicimos una nueva petición

606
00:30:04,309 --> 00:30:10,460
con el navegador web esta vez luego de

607
00:30:07,130 --> 00:30:12,740
get verás que dice barra prueba con lo

608
00:30:10,460 --> 00:30:15,529
cual vemos como la palabra que colocamos

609
00:30:12,740 --> 00:30:18,500
luego de la barra en la dirección ip es

610
00:30:15,529 --> 00:30:21,589
enviada al servidor web como parte de la

611
00:30:18,500 --> 00:30:24,039
petición esta es la forma básica en que

612
00:30:21,589 --> 00:30:26,599
podemos enviar datos desde el navegador

613
00:30:24,039 --> 00:30:29,569
hacia el servidor y luego por

614
00:30:26,599 --> 00:30:32,689
programación podremos tomar una acción

615
00:30:29,569 --> 00:30:34,759
si volvemos al navegador web veremos que

616
00:30:32,690 --> 00:30:37,279
sigue esperando una respuesta del

617
00:30:34,759 --> 00:30:39,349
servidor para desde el servidor poder

618
00:30:37,279 --> 00:30:42,710
enviar la información de vuelta al

619
00:30:39,349 --> 00:30:45,379
navegador existen un par de comandos

620
00:30:42,710 --> 00:30:47,528
específicos que se muestran en la imagen

621
00:30:45,380 --> 00:30:51,590
ate más c

622
00:30:47,528 --> 00:30:53,898
send que tendrá dos parámetros el número

623
00:30:51,589 --> 00:30:58,759
de la conexión y la longitud de los

624
00:30:53,898 --> 00:31:01,729
datos a enviar y finalmente ate +6 close

625
00:30:58,759 --> 00:31:03,980
para cerrar la conexión indicada vamos

626
00:31:01,730 --> 00:31:11,120
al monitor serie para implementarlo

627
00:31:03,980 --> 00:31:13,849
escribamos ate más de ip send igual 04 y

628
00:31:11,119 --> 00:31:16,278
luego enter lo que estamos diciendo es

629
00:31:13,849 --> 00:31:19,730
que sobre la conexión número 0

630
00:31:16,278 --> 00:31:22,339
enviaremos 4 bytes de información en el

631
00:31:19,730 --> 00:31:23,120
monitor verás que ahora no responde con

632
00:31:22,339 --> 00:31:25,819
ok

633
00:31:23,119 --> 00:31:28,939
en su lugar muestra el símbolo de mayor

634
00:31:25,819 --> 00:31:31,519
esto nos indica que está a la espera de

635
00:31:28,940 --> 00:31:34,820
que escribamos esos 4 gbytes que

636
00:31:31,519 --> 00:31:38,480
deseamos enviar entonces escribamos cola

637
00:31:34,819 --> 00:31:41,720
que tiene exactamente una longitud de 4

638
00:31:38,480 --> 00:31:44,720
caracteres y luego enter en el monitor

639
00:31:41,720 --> 00:31:48,769
brevemente nos nuestra bici es decir

640
00:31:44,720 --> 00:31:49,600
ocupado luego recibe for bytes en el

641
00:31:48,769 --> 00:31:52,109
navegador

642
00:31:49,599 --> 00:31:55,058
verás que aún la página está en blanco

643
00:31:52,109 --> 00:31:57,428
eso es porque necesitamos enviar un

644
00:31:55,058 --> 00:32:02,109
comando más que el de cerrar la conexión

645
00:31:57,429 --> 00:32:05,860
lo haremos con ate + c

646
00:32:02,109 --> 00:32:09,189
close igual 0 y ahora si vimos que

647
00:32:05,859 --> 00:32:11,979
aparece el texto hola en la página web y

648
00:32:09,190 --> 00:32:14,130
finaliza la carga perfecto pudimos

649
00:32:11,980 --> 00:32:17,319
enviar información desde el servidor

650
00:32:14,130 --> 00:32:20,140
hacia el navegador web logrando de esa

651
00:32:17,319 --> 00:32:22,779
manera completar el proceso de recibir

652
00:32:20,140 --> 00:32:25,030
una petición y responderla para que

653
00:32:22,779 --> 00:32:27,490
quede claro volvamos a realizar una

654
00:32:25,029 --> 00:32:33,609
nueva petición al servidor coloquemos

655
00:32:27,490 --> 00:32:36,460
nuevamente la ip 192 168 0 18 y

656
00:32:33,609 --> 00:32:38,798
presionamos enter el navegador espera

657
00:32:36,460 --> 00:32:41,440
por una respuesta del servidor en el

658
00:32:38,798 --> 00:32:42,519
monitor serie vemos el encabezado de la

659
00:32:41,440 --> 00:32:46,630
petición

660
00:32:42,519 --> 00:32:52,259
respondamos nuevamente con ate + ceip

661
00:32:46,630 --> 00:32:54,950
send igual 0,4 y ahora en vez de hola

662
00:32:52,259 --> 00:32:59,210
escribamos 123

663
00:32:54,950 --> 00:33:02,690
enter y luego a t más c

664
00:32:59,210 --> 00:33:05,690
close igual a 0 y vemos cómo se

665
00:33:02,690 --> 00:33:11,298
actualiza la página en el navegador con

666
00:33:05,690 --> 00:33:14,028
el nuevo texto 1234 escribimos 1234 ya

667
00:33:11,298 --> 00:33:16,398
que volvemos a indicar que enviaríamos 4

668
00:33:14,028 --> 00:33:18,859
bytes de información sin problemas

669
00:33:16,398 --> 00:33:21,589
podrás enviar una mayor longitud de

670
00:33:18,859 --> 00:33:24,349
datos para resumir lo visto hemos

671
00:33:21,589 --> 00:33:26,898
logrado conectar el módulo de una mini

672
00:33:24,349 --> 00:33:29,538
arduino para que éste a su vez se

673
00:33:26,898 --> 00:33:32,959
conecte de forma inalámbrica a nuestra

674
00:33:29,538 --> 00:33:35,179
red local iniciamos un servidor web para

675
00:33:32,960 --> 00:33:38,179
recibir información mediante el método

676
00:33:35,179 --> 00:33:40,730
get y respondimos solicitudes todo

677
00:33:38,179 --> 00:33:43,730
mediante comandos hace una mención

678
00:33:40,730 --> 00:33:46,250
rápida a un problema con el cual puedes

679
00:33:43,730 --> 00:33:48,710
encontrarte al trabajar con la de 1 a

680
00:33:46,250 --> 00:33:53,028
mini se refiere a la velocidad de

681
00:33:48,710 --> 00:33:55,940
comunicación aquí trabajamos a 9.600 bps

682
00:33:53,028 --> 00:33:58,849
pero el firmware que viene precargado en

683
00:33:55,940 --> 00:34:01,820
el módulo puede ser que esté configurado

684
00:33:58,849 --> 00:34:04,939
para una velocidad de 115

685
00:34:01,819 --> 00:34:09,469
y al hacer la conexión y ejecutar el

686
00:34:04,940 --> 00:34:11,990
programa a 9.600 bps vez que no responde

687
00:34:09,469 --> 00:34:14,750
correctamente o con caracteres que no

688
00:34:11,989 --> 00:34:17,689
tienen lógica entonces deberás cambiar

689
00:34:14,750 --> 00:34:20,210
la velocidad de comunicación de manera

690
00:34:17,690 --> 00:34:23,179
muy simple es sólo cuestión de ir a la

691
00:34:20,210 --> 00:34:26,570
sección del set-up y cambiar tanto en

692
00:34:23,179 --> 00:34:32,899
serie al punto bin como en de 1 punto

693
00:34:26,570 --> 00:34:35,480
bien de 9.600 x 115 200 y volver a subir

694
00:34:32,900 --> 00:34:39,860
el programa luego al abrir el monitor

695
00:34:35,480 --> 00:34:43,190
serie también a 115 200 a veces es

696
00:34:39,860 --> 00:34:46,220
necesario adicionalmente presionar unos

697
00:34:43,190 --> 00:34:48,829
segundos el botón de reset de la de 1 a

698
00:34:46,219 --> 00:34:51,199
mini si ves que no hay respuesta al

699
00:34:48,829 --> 00:34:53,239
enviar el comando a t debido a que

700
00:34:51,199 --> 00:34:55,969
existen en el mercado distintas

701
00:34:53,239 --> 00:34:58,250
versiones de firmware precargado en la

702
00:34:55,969 --> 00:35:00,409
de una mini deberás probar con estas

703
00:34:58,250 --> 00:35:03,559
cuestiones hasta lograr una correcta

704
00:35:00,409 --> 00:35:06,069
comunicación entre el módulo y arduino

705
00:35:03,559 --> 00:35:08,690
en el próximo capítulo estaremos

706
00:35:06,070 --> 00:35:10,760
automatizando el proceso de conexión

707
00:35:08,690 --> 00:35:13,400
a la red local con la información

708
00:35:10,760 --> 00:35:15,950
obtenida desde el navegador podremos

709
00:35:13,400 --> 00:35:19,730
activar cualquier pin digital de arduino

710
00:35:15,949 --> 00:35:22,219
para encender un led relé o cualquier

711
00:35:19,730 --> 00:35:25,159
dispositivo conectado también veremos

712
00:35:22,219 --> 00:35:29,239
cómo obtener información de uno o varios

713
00:35:25,159 --> 00:35:32,000
sensores y generar una página web que se

714
00:35:29,239 --> 00:35:34,309
pueda visualizar en el navegador eso es

715
00:35:32,000 --> 00:35:36,800
todo por este capítulo vimos una gran

716
00:35:34,309 --> 00:35:40,009
cantidad de información sobre la forma

717
00:35:36,800 --> 00:35:44,780
de conectar arduino por wifi usando un

718
00:35:40,010 --> 00:35:48,349
módulo basado en el s&amp;p 82 66 y algunos

719
00:35:44,780 --> 00:35:50,810
conceptos sobre el protocolo tcp/ip que

720
00:35:48,349 --> 00:35:53,420
seguiremos desarrollando en el próximo

721
00:35:50,809 --> 00:35:55,940
capítulo como siempre te pido te

722
00:35:53,420 --> 00:35:58,789
suscribas si aún no lo has hecho y por

723
00:35:55,940 --> 00:36:01,309
cualquier duda o comentario lo podéis

724
00:35:58,789 --> 00:36:05,139
hacer debajo que con gusto te responderé

725
00:36:01,309 --> 00:36:05,139
chao y hasta la próxima

